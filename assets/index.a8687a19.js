var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i));import{e as n,w as i,S as o,i as a,s,u as r,g as l,a as c,t as u,b as p,c as d,d as h,f as m,h as f,j as $,k as g,l as w,m as v,n as y,o as b,p as x,q as M,r as E,v as S,x as k,y as P,z as T,A as _,B as z,C as H,D as j,E as R,F as I,G as X,H as Y,I as C,J as D,K as L,L as O,M as Z,N as A,O as q,P as Q,Q as B}from"./vendor.b9742cf1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N=new n.exports.EventEmitter;var W,G;(G=W||(W={})).update="update",G.resize="resize",G.updateScenesSize="updateScenesSize",G.render="render",G.addObject="addObject",G.onPointerDown="onPointerDown",G.onPointerUp="onPointerUp",G.onPointerMove="onPointerMove",G.onDoubleClick="onDoubleClick",G.onKeyDown="onKeyDown",G.onKeyUp="onKeyUp";const F=i(null),U=i(null),V=i(null);function K(e){let t;const n=e[3].default,i=M(n,e,e[2],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,o){i&&i.p&&(!t||4&o)&&r(i,n,e,e[2],t?c(n,e[2],o,null):l(e[2]),null)},i(e){t||(u(i,e),t=!0)},o(e){p(i,e),t=!1},d(e){i&&i.d(e)}}}function J(e){let t,n,i,o,a,s,r,l,c,M=e[0]&&K(e);return{c(){t=d("div"),n=d("div"),i=d("i"),a=h(e[1]),s=m(),M&&M.c(),f(i,"class",o="float-left overflow-hidden block transition-transform duration-300 "+(e[0]?"rotate-90":"rotate-0")),f(n,"class","bg-gray-300 h-6 leading-6 cursor-pointer select-none "),f(t,"class","border-t border-b border-t-gray-400 border-b-gray-300 my-1")},m(o,u){$(o,t,u),g(t,n),g(n,i),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#888888">\r\n    <path d="M0 0h24v24H0V0z" fill="none" />\r\n    <path d="M10 17l5-5-5-5v10z" />\r\n</svg>',g(n,a),g(t,s),M&&M.m(t,null),r=!0,l||(c=w(n,"click",e[4]),l=!0)},p(e,[n]){(!r||1&n&&o!==(o="float-left overflow-hidden block transition-transform duration-300 "+(e[0]?"rotate-90":"rotate-0")))&&f(i,"class",o),(!r||2&n)&&v(a,e[1]),e[0]?M?(M.p(e,n),1&n&&u(M,1)):(M=K(e),M.c(),u(M,1),M.m(t,null)):M&&(y(),p(M,1,1,(()=>{M=null})),b())},i(e){r||(u(M),r=!0)},o(e){p(M),r=!1},d(e){e&&x(t),M&&M.d(),l=!1,c()}}}function ee(e,t,n){let{$$slots:i={},$$scope:o}=t,{title:a="title"}=t,{open:s=!0}=t;return e.$$set=e=>{"title"in e&&n(1,a=e.title),"open"in e&&n(0,s=e.open),"$$scope"in e&&n(2,o=e.$$scope)},[s,a,o,i,()=>{n(0,s=!s)}]}class te extends o{constructor(e){super(),a(this,e,ee,J,s,{title:1,open:0})}}function ne(e){let t,n,i,o,a,s,w,y;const b=e[4].default,E=M(b,e,e[3],null);return{c(){t=d("div"),n=d("span"),i=h(e[0]),a=m(),s=d("span"),E&&E.c(),f(n,"title",e[0]),f(n,"class",o="attr-left-title "+e[1]),f(s,"class","flex-grow flex items-center whitespace-nowrap overflow-hidden pl-1"),f(t,"class",w="px-3 flex "+(e[2]?"flex-wrap":"")+" gap-4")},m(e,o){$(e,t,o),g(t,n),g(n,i),g(t,a),g(t,s),E&&E.m(s,null),y=!0},p(e,[a]){(!y||1&a)&&v(i,e[0]),(!y||1&a)&&f(n,"title",e[0]),(!y||2&a&&o!==(o="attr-left-title "+e[1]))&&f(n,"class",o),E&&E.p&&(!y||8&a)&&r(E,b,e,e[3],y?c(b,e[3],a,null):l(e[3]),null),(!y||4&a&&w!==(w="px-3 flex "+(e[2]?"flex-wrap":"")+" gap-4"))&&f(t,"class",w)},i(e){y||(u(E,e),y=!0)},o(e){p(E,e),y=!1},d(e){e&&x(t),E&&E.d(e)}}}function ie(e,t,n){let{$$slots:i={},$$scope:o}=t,{title:a}=t,{titleClassName:s=""}=t,{wrap:r=!1}=t;return e.$$set=e=>{"title"in e&&n(0,a=e.title),"titleClassName"in e&&n(1,s=e.titleClassName),"wrap"in e&&n(2,r=e.wrap),"$$scope"in e&&n(3,o=e.$$scope)},[a,s,r,o,i]}class oe extends o{constructor(e){super(),a(this,e,ie,ne,s,{title:0,titleClassName:1,wrap:2})}}const ae=window.THREE.BufferGeometry,se=window.THREE.Float32BufferAttribute,re=window.THREE.LineSegments,le=window.THREE.LineBasicMaterial,ce=window.THREE.Matrix3,ue=window.THREE.Vector3,pe=new ue,de=new ue,he=new ce;class me extends re{constructor(e,t=1,n=16711680){let i=0;const o=e.geometry;if(o&&o.isGeometry)return void console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");o&&o.isBufferGeometry&&(i=o.attributes.normal.count);const a=new ae,s=new se(2*i*3,3);a.setAttribute("position",s),super(a,new le({color:n,toneMapped:!1})),this.object=e,this.size=t,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0),he.getNormalMatrix(this.object.matrixWorld);const e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");else{if(n&&n.isBufferGeometry){const i=n.attributes.position,o=n.attributes.normal;let a=0;for(let n=0,s=i.count;n<s;n++)pe.set(i.getX(n),i.getY(n),i.getZ(n)).applyMatrix4(e),de.set(o.getX(n),o.getY(n),o.getZ(n)),de.applyMatrix3(he).normalize().multiplyScalar(this.size).add(pe),t.setXYZ(a,pe.x,pe.y,pe.z),a+=1,t.setXYZ(a,de.x,de.y,de.z),a+=1}t.needsUpdate=!0}}}function fe(e,t,n){const i=e.slice();return i[9]=t[n],i[10]=t,i[11]=n,i}function $e(e){let t,n;return t=new te({props:{title:"Geometry",open:!1,$$slots:{default:[Se]},$$scope:{ctx:e}}}),{c(){E(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};4099&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function ge(e){let t,n=e[0].type+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p(e,i){1&i&&n!==(n=e[0].type+"")&&v(t,n)},d(e){e&&x(t)}}}function we(e){let t,n=e[0].uuid+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p(e,i){1&i&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function ve(e){let t,n,i,o;return{c(){t=d("div"),n=d("input"),f(n,"type","text"),f(n,"class","attr-input-r "),f(t,"class","flex-1 flex items-center")},m(a,s){$(a,t,s),g(t,n),j(n,e[0].name),i||(o=w(n,"input",e[6]),i=!0)},p(e,t){1&t&&n.value!==e[0].name&&j(n,e[0].name)},d(e){e&&x(t),i=!1,o()}}}function ye(e){let t,n,i=e[1],o=[];for(let s=0;s<i.length;s+=1)o[s]=xe(fe(e,i,s));const a=e=>p(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=P()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);$(e,t,i),n=!0},p(e,n){if(2&n){let s;for(i=e[1],s=0;s<i.length;s+=1){const a=fe(e,i,s);o[s]?(o[s].p(a,n),u(o[s],1)):(o[s]=xe(a),o[s].c(),u(o[s],1),o[s].m(t.parentNode,t))}for(y(),s=i.length;s<o.length;s+=1)a(s);b()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)u(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)p(o[t]);n=!1},d(e){z(o,e),e&&x(t)}}}function be(e){let t,n,i,o,a;function s(){e[7].call(n,e[10],e[11])}return{c(){t=d("div"),n=d("input"),i=m(),f(n,"type","number"),f(n,"step","1"),f(n,"class","attr-input-r "),f(t,"class","flex-1 flex items-center")},m(r,l){$(r,t,l),g(t,n),j(n,e[9].val),$(r,i,l),o||(a=w(n,"input",s),o=!0)},p(t,i){e=t,2&i&&H(n.value)!==e[9].val&&j(n,e[9].val)},d(e){e&&x(t),e&&x(i),o=!1,a()}}}function xe(e){let t,n;return t=new oe({props:{title:e[9].key,$$slots:{default:[be]},$$scope:{ctx:e}}}),{c(){E(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};2&n&&(i.title=e[9].key),4098&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function Me(e){let t,n,i,o,a,s,r,l,c,u,p,w,y,b,M,E,S,k,P,T,_,z,H,j,R,I,X,Y,C,D=e[0].index.count+"",L=e[0].attributes.position.count+"",O=e[0].attributes.position.itemSize+"",Z=e[0].attributes.normal.count+"",A=e[0].attributes.normal.itemSize+"",q=e[0].attributes.uv.count+"",Q=e[0].attributes.uv.itemSize+"";return{c(){t=d("div"),n=d("div"),i=d("div"),i.textContent="index",o=m(),a=h(D),s=m(),r=d("div"),l=d("div"),l.textContent="position",c=m(),u=h(L),p=h("("),w=h(O),y=h(")"),b=m(),M=d("div"),E=d("div"),E.textContent="normal",S=m(),k=h(Z),P=h("("),T=h(A),_=h(")"),z=m(),H=d("div"),j=d("div"),j.textContent="uv",R=m(),I=h(q),X=h("("),Y=h(Q),C=h(")"),f(i,"class","w-1/2 inline-block"),f(l,"class","w-1/2 inline-block"),f(E,"class","w-1/2 inline-block"),f(j,"class","w-1/2 inline-block"),f(t,"class","w-full leading-6")},m(e,d){$(e,t,d),g(t,n),g(n,i),g(n,o),g(n,a),g(t,s),g(t,r),g(r,l),g(r,c),g(r,u),g(r,p),g(r,w),g(r,y),g(t,b),g(t,M),g(M,E),g(M,S),g(M,k),g(M,P),g(M,T),g(M,_),g(t,z),g(t,H),g(H,j),g(H,R),g(H,I),g(H,X),g(H,Y),g(H,C)},p(e,t){1&t&&D!==(D=e[0].index.count+"")&&v(a,D),1&t&&L!==(L=e[0].attributes.position.count+"")&&v(u,L),1&t&&O!==(O=e[0].attributes.position.itemSize+"")&&v(w,O),1&t&&Z!==(Z=e[0].attributes.normal.count+"")&&v(k,Z),1&t&&A!==(A=e[0].attributes.normal.itemSize+"")&&v(T,A),1&t&&q!==(q=e[0].attributes.uv.count+"")&&v(I,q),1&t&&Q!==(Q=e[0].attributes.uv.itemSize+"")&&v(Y,Q)},d(e){e&&x(t)}}}function Ee(e){var t;let n,i=(null==(t=e[0].boundingSphere)?void 0:t.radius)+"";return{c(){n=h(i)},m(e,t){$(e,n,t)},p(e,t){var o;1&t&&i!==(i=(null==(o=e[0].boundingSphere)?void 0:o.radius)+"")&&v(n,i)},d(e){e&&x(n)}}}function Se(e){var t;let n,i,o,a,s,r,l,c,h,v,M,P,T,_,z,H,j=["SphereGeometry","BoxGeometry"].includes(null==(t=e[0])?void 0:t.type);n=new oe({props:{title:"Type",$$slots:{default:[ge]},$$scope:{ctx:e}}}),o=new oe({props:{title:"UUID",$$slots:{default:[we]},$$scope:{ctx:e}}}),s=new oe({props:{title:"Name",$$slots:{default:[ve]},$$scope:{ctx:e}}});let R=j&&ye(e);return c=new oe({props:{title:"Attributes",$$slots:{default:[Me]},$$scope:{ctx:e}}}),v=new oe({props:{title:"Bounds",$$slots:{default:[Ee]},$$scope:{ctx:e}}}),{c(){E(n.$$.fragment),i=m(),E(o.$$.fragment),a=m(),E(s.$$.fragment),r=m(),R&&R.c(),l=m(),E(c.$$.fragment),h=m(),E(v.$$.fragment),M=m(),P=d("div"),T=d("button"),T.textContent="SHOW VERTEX NORMALS",f(T,"class","bg-gray-300 px-4 hover:bg-gray-100 active:bg-gray-50 active:text-gray-800"),f(P,"class","py-4 text-center")},m(t,u){S(n,t,u),$(t,i,u),S(o,t,u),$(t,a,u),S(s,t,u),$(t,r,u),R&&R.m(t,u),$(t,l,u),S(c,t,u),$(t,h,u),S(v,t,u),$(t,M,u),$(t,P,u),g(P,T),_=!0,z||(H=w(T,"click",e[2]),z=!0)},p(e,t){var i;const a={};4097&t&&(a.$$scope={dirty:t,ctx:e}),n.$set(a);const r={};4097&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r);const d={};4097&t&&(d.$$scope={dirty:t,ctx:e}),s.$set(d),1&t&&(j=["SphereGeometry","BoxGeometry"].includes(null==(i=e[0])?void 0:i.type)),j?R?(R.p(e,t),1&t&&u(R,1)):(R=ye(e),R.c(),u(R,1),R.m(l.parentNode,l)):R&&(y(),p(R,1,1,(()=>{R=null})),b());const h={};4097&t&&(h.$$scope={dirty:t,ctx:e}),c.$set(h);const m={};4097&t&&(m.$$scope={dirty:t,ctx:e}),v.$set(m)},i(e){_||(u(n.$$.fragment,e),u(o.$$.fragment,e),u(s.$$.fragment,e),u(R),u(c.$$.fragment,e),u(v.$$.fragment,e),_=!0)},o(e){p(n.$$.fragment,e),p(o.$$.fragment,e),p(s.$$.fragment,e),p(R),p(c.$$.fragment,e),p(v.$$.fragment,e),_=!1},d(e){k(n,e),e&&x(i),k(o,e),e&&x(a),k(s,e),e&&x(r),R&&R.d(e),e&&x(l),k(c,e),e&&x(h),k(v,e),e&&x(M),e&&x(P),z=!1,H()}}}function ke(e){let t,n,i=e[0]&&$e(e);return{c(){i&&i.c(),t=P()},m(e,o){i&&i.m(e,o),$(e,t,o),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&u(i,1)):(i=$e(e),i.c(),u(i,1),i.m(t.parentNode,t)):i&&(y(),p(i,1,1,(()=>{i=null})),b())},i(e){n||(u(i),n=!0)},o(e){p(i),n=!1},d(e){i&&i.d(e),e&&x(t)}}}let Pe=new Map,Te=null;function _e(e,t,n){let i;var o;T(e,F,(e=>n(5,i=e)));let a,s,r=[];return _((()=>{Te=null})),e.$$.update=()=>{if(51&e.$$.dirty&&i)switch(n(4,s=i),n(0,a=null==s?void 0:s.geometry),null==a?void 0:a.type){case"SphereGeometry":if("SphereGeometry"==Te)break;if(n(1,r=[]),Te="SphereGeometry",!r.length)for(const e in a.parameters)if(Object.prototype.hasOwnProperty.call(a.parameters,e)){const t=a.parameters[e];switch(e){case"phiStart":case"phiLength":case"thetaStart":case"thetaLength":r.push({key:e,val:THREE.MathUtils.radToDeg(t)});break;case"widthSegments":case"heightSegments":r.push({key:e,val:Math.floor(t)});break;default:r.push({key:e,val:t})}}break;case"BoxGeometry":if("BoxGeometry"==Te)break;if(n(1,r=[]),Te="BoxGeometry",!r.length)for(const e in a.parameters)if(Object.prototype.hasOwnProperty.call(a.parameters,e)){const t=a.parameters[e];r.push({key:e,val:t})}}2&e.$$.dirty&&r&&(r.map((e=>(e.val||(e.val=0),e))),r.length&&function(){if(a){switch(a.dispose(),a.type){case"SphereGeometry":n(4,s.geometry=new THREE.SphereGeometry(r[0].val,r[1].val,r[2].val,THREE.MathUtils.degToRad(r[3].val),THREE.MathUtils.degToRad(r[4].val),THREE.MathUtils.degToRad(r[5].val),THREE.MathUtils.degToRad(r[6].val)),s);break;case"BoxGeometry":n(4,s.geometry=new THREE.BoxGeometry(r[0].val,r[1].val,r[2].val,r[3].val,r[4].val,r[5].val),s)}n(0,a=s.geometry)}N.emit(W.render)}()),24&e.$$.dirty&&(null===n(3,o=Pe.get(s.id))||void 0===o||o.update())},[a,r,function(){if(s){if(Pe.has(s.id)){let e=Pe.get(s.id);e.parent.remove(e),Pe.delete(s.id)}else{let e=new me(s);s.parent.add(e),Pe.set(s.id,e)}N.emit(W.render)}},o,s,i,function(){a.name=this.value,n(0,a),n(5,i),n(4,s),n(1,r)},function(e,t){e[t].val=H(this.value),n(1,r),n(5,i),n(4,s),n(0,a)}]}class ze extends o{constructor(e){super(),a(this,e,_e,ke,s,{})}}function He(e){let t,n,i;return{c(){t=d("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(o,a){$(o,t,a),t.checked=e[0],n||(i=w(t,"change",e[1]),n=!0)},p(e,[n]){1&n&&(t.checked=e[0])},i:R,o:R,d(e){e&&x(t),n=!1,i()}}}function je(e,t,n){let{checked:i}=t;return e.$$set=e=>{"checked"in e&&n(0,i=e.checked)},[i,function(){i=this.checked,n(0,i)}]}class Re extends o{constructor(e){super(),a(this,e,je,He,s,{checked:0})}}function Ie(e){let t,n,i,o,a;return{c(){t=d("div"),n=d("img"),I(n.src,i=e[0])||f(n,"src",i),f(n,"class","w-10 h-4"),f(n,"alt",""),f(t,"class","bg-gray-300 ml-1")},m(i,s){$(i,t,s),g(t,n),o||(a=w(t,"click",e[2]),o=!0)},p(e,[t]){1&t&&!I(n.src,i=e[0])&&f(n,"src",i)},i:R,o:R,d(e){e&&x(t),o=!1,a()}}}function Xe(e,t,n){let{src:i}=t;return e.$$set=e=>{"src"in e&&n(0,i=e.src)},[i,null,function(t){X.call(this,e,t)}]}class Ye extends o{constructor(e){super(),a(this,e,Xe,Ie,s,{click:1,src:0})}get click(){return this.$$.ctx[1]}}function Ce(e,t,n){const i=e.slice();return i[4]=t[n],i[6]=n,i}function De(e,t,n){const i=e.slice();return i[4]=t[n],i}function Le(e){let t,n,i,o=e[4][0]+"";return{c(){t=d("option"),n=h(o),t.__value=i=e[4][1],t.value=t.__value},m(e,i){$(e,t,i),g(t,n)},p(e,a){2&a&&o!==(o=e[4][0]+"")&&v(n,o),2&a&&i!==(i=e[4][1])&&(t.__value=i,t.value=t.__value)},d(e){e&&x(t)}}}function Oe(e){let t,n,i,o=e[4][0]+"";return{c(){t=d("option"),n=h(o),t.__value=i=e[6],t.value=t.__value},m(e,i){$(e,t,i),g(t,n)},p(e,t){4&t&&o!==(o=e[4][0]+"")&&v(n,o)},d(e){e&&x(t)}}}function Ze(e){let t,n,i,o,a=e[1],s=[];for(let c=0;c<a.length;c+=1)s[c]=Le(De(e,a,c));let r=e[2],l=[];for(let c=0;c<r.length;c+=1)l[c]=Oe(Ce(e,r,c));return{c(){t=d("select");for(let e=0;e<s.length;e+=1)s[e].c();n=P();for(let e=0;e<l.length;e+=1)l[e].c();void 0===e[0]&&Y((()=>e[3].call(t)))},m(a,r){$(a,t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);g(t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null);C(t,e[0]),i||(o=w(t,"change",e[3]),i=!0)},p(e,[i]){if(2&i){let o;for(a=e[1],o=0;o<a.length;o+=1){const r=De(e,a,o);s[o]?s[o].p(r,i):(s[o]=Le(r),s[o].c(),s[o].m(t,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}if(4&i){let n;for(r=e[2],n=0;n<r.length;n+=1){const o=Ce(e,r,n);l[n]?l[n].p(o,i):(l[n]=Oe(o),l[n].c(),l[n].m(t,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}3&i&&C(t,e[0])},i:R,o:R,d(e){e&&x(t),z(s,e),z(l,e),i=!1,o()}}}function Ae(e,t,n){let{value:i=null}=t,{list:o=[]}=t,{listNoIdx:a=[]}=t;return e.$$set=e=>{"value"in e&&n(0,i=e.value),"list"in e&&n(1,o=e.list),"listNoIdx"in e&&n(2,a=e.listNoIdx)},[i,o,a,function(){i=D(this),n(0,i),n(1,o)}]}class qe extends o{constructor(e){super(),a(this,e,Ae,Ze,s,{value:0,list:1,listNoIdx:2})}}function Qe(e,t,n){const i=e.slice();return i[71]=t[n],i[72]=t,i[73]=n,i}function Be(e){let t,n,i;function o(t){e[67](t)}let a={title:"Material",$$slots:{default:[Ve]},$$scope:{ctx:e}};return void 0!==et&&(a.open=et),t=new te({props:a}),O.push((()=>Z(t,"open",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};63&i[0]|4096&i[2]&&(o.$$scope={dirty:i,ctx:e}),!n&&0&i&&(n=!0,o.open=et,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}function Ne(e){let t,n,i;function o(t){e[11](t)}let a={listNoIdx:tt};return void 0!==e[5]&&(a.value=e[5]),t=new qe({props:a}),O.push((()=>Z(t,"value",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&32&i[0]&&(n=!0,o.value=e[5],L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}function We(e){let t,n=e[0].uuid+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p(e,i){1&i[0]&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function Ge(e){let t,n;return t=new oe({props:{title:e[71],titleClassName:"overflow-hidden  ",$$slots:{default:[Fe]},$$scope:{ctx:e}}}),{c(){E(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};15&n[0]|4096&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function Fe(e){let t,n,i,o,a,s,r,l,c,g,y,b,M,P,T,_,z,I,X,Y,C,D,q,Q,B,N,W,G,F,U,V,K,J,ee,te,ne,ie,oe,ae,se="name"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","text"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].name),n||(i=w(t,"input",e[12]),n=!0)},p(e,n){1&n[0]&&t.value!==e[0].name&&j(t,e[0].name)},d(e){e&&x(t),n=!1,i()}}}(e),re="color"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","color"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[1]),n||(i=w(t,"input",e[13]),n=!0)},p(e,n){2&n[0]&&j(t,e[1])},d(e){e&&x(t),n=!1,i()}}}(e),le="roughness"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].roughness),n||(i=w(t,"input",e[14]),n=!0)},p(e,n){1&n[0]&&H(t.value)!==e[0].roughness&&j(t,e[0].roughness)},d(e){e&&x(t),n=!1,i()}}}(e),ce="metalness"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].metalness),n||(i=w(t,"input",e[15]),n=!0)},p(e,n){1&n[0]&&H(t.value)!==e[0].metalness&&j(t,e[0].metalness)},d(e){e&&x(t),n=!1,i()}}}(e),ue="emissive"==e[71]&&function(e){let t,n,i,o,a;return{c(){t=d("input"),n=m(),i=d("input"),f(t,"type","color"),f(t,"class","attr-input-r"),f(i,"type","number"),f(i,"step","0.01"),f(i,"class","attr-input-r")},m(s,r){$(s,t,r),j(t,e[2]),$(s,n,r),$(s,i,r),j(i,e[0].emissiveIntensity),o||(a=[w(t,"input",e[16]),w(i,"input",e[17])],o=!0)},p(e,n){4&n[0]&&j(t,e[2]),1&n[0]&&H(i.value)!==e[0].emissiveIntensity&&j(i,e[0].emissiveIntensity)},d(e){e&&x(t),e&&x(n),e&&x(i),o=!1,A(a)}}}(e),pe="specular"==e[71]&&function(e){let t,n=e[71]+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p:R,d(e){e&&x(t)}}}(e),de="shininess"==e[71]&&function(e){let t,n=e[71]+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p:R,d(e){e&&x(t)}}}(e),he="clearcoat"==e[71]&&function(e){let t,n=e[71]+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p:R,d(e){e&&x(t)}}}(e),me="clearcoatRoughness"==e[71]&&function(e){let t,n=e[71]+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p:R,d(e){e&&x(t)}}}(e),fe="vertexShader"==e[71]&&function(e){let t,n=e[71]+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p:R,d(e){e&&x(t)}}}(e),$e="vertexColors"==e[71]&&function(e){let t,n,i;function o(t){e[18](t)}let a={};return void 0!==e[0].vertexColors&&(a.checked=e[0].vertexColors),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].vertexColors,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),ge="depthPacking"==e[71]&&function(e){let t,n,i;function o(t){e[19](t)}let a={list:[["RGBADepthPacking",e[6].RGBADepthPacking],["BasicDepthPacking",e[6].BasicDepthPacking]]};return void 0!==e[0].depthPacking&&(a.value=e[0].depthPacking),t=new qe({props:a}),O.push((()=>Z(t,"value",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.value=e[0].depthPacking,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),we="map"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[20](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[21](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),ve="matcap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[22](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[23](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),ye="alphaMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[24](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[25](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),be="bumpMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,h,g;function v(t){e[26](t,e[71])}let y={};return void 0!==e[3][e[71]].enabled&&(y.checked=e[3][e[71]].enabled),i=new Re({props:y}),O.push((()=>Z(i,"checked",v))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[27](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=d("input"),f(l,"type","number"),f(l,"step","0.1"),f(l,"class","attr-input-r ml-1")},m(t,n){S(i,t,n),$(t,a,n),S(s,t,n),$(t,r,n),$(t,l,n),j(l,e[0].bumpScale),c=!0,h||(g=w(l,"input",e[28]),h=!0)},p(t,n){var a,r;e=t;const c={};!o&&8&n[0]&&(o=!0,c.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(c);const u={};8&n[0]&&(u.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(u),1&n[0]&&H(l.value)!==e[0].bumpScale&&j(l,e[0].bumpScale)},i(e){c||(u(i.$$.fragment,e),u(s.$$.fragment,e),c=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),c=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l),h=!1,g()}}}(e),xe="normalMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,h,g,v,y;function b(t){e[29](t,e[71])}let M={};return void 0!==e[3][e[71]].enabled&&(M.checked=e[3][e[71]].enabled),i=new Re({props:M}),O.push((()=>Z(i,"checked",b))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[30](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=d("input"),c=m(),h=d("input"),f(l,"type","number"),f(l,"step","0.1"),f(l,"class","attr-input-r ml-1"),f(h,"type","number"),f(h,"step","0.1"),f(h,"class","attr-input-r ml-1")},m(t,n){S(i,t,n),$(t,a,n),S(s,t,n),$(t,r,n),$(t,l,n),j(l,e[0].normalScale.x),$(t,c,n),$(t,h,n),j(h,e[0].normalScale.y),g=!0,v||(y=[w(l,"input",e[31]),w(h,"input",e[32])],v=!0)},p(t,n){var a,r;e=t;const c={};!o&&8&n[0]&&(o=!0,c.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(c);const u={};8&n[0]&&(u.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(u),1&n[0]&&H(l.value)!==e[0].normalScale.x&&j(l,e[0].normalScale.x),1&n[0]&&H(h.value)!==e[0].normalScale.y&&j(h,e[0].normalScale.y)},i(e){g||(u(i.$$.fragment,e),u(s.$$.fragment,e),g=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),g=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l),e&&x(c),e&&x(h),v=!1,A(y)}}}(e),Me="clearcoatNormalMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,d=console.log(e[0].clearcoatNormalScale)+"";function f(t){e[33](t,e[71])}let g={};return void 0!==e[3][e[71]].enabled&&(g.checked=e[3][e[71]].enabled),i=new Re({props:g}),O.push((()=>Z(i,"checked",f))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[34](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=h(d)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),$(e,r,t),$(e,l,t),c=!0},p(t,n){var a,r;e=t;const u={};!o&&8&n[0]&&(o=!0,u.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(u);const p={};8&n[0]&&(p.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(p),(!c||1&n[0])&&d!==(d=console.log(e[0].clearcoatNormalScale)+"")&&v(l,d)},i(e){c||(u(i.$$.fragment,e),u(s.$$.fragment,e),c=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),c=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l)}}}(e),Ee="displacementMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,h,g;function v(t){e[35](t,e[71])}let y={};return void 0!==e[3][e[71]].enabled&&(y.checked=e[3][e[71]].enabled),i=new Re({props:y}),O.push((()=>Z(i,"checked",v))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[36](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=d("input"),f(l,"type","number"),f(l,"step","0.1"),f(l,"class","attr-input-r ml-1")},m(t,n){S(i,t,n),$(t,a,n),S(s,t,n),$(t,r,n),$(t,l,n),j(l,e[0].displacementScale),c=!0,h||(g=w(l,"input",e[37]),h=!0)},p(t,n){var a,r;e=t;const c={};!o&&8&n[0]&&(o=!0,c.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(c);const u={};8&n[0]&&(u.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(u),1&n[0]&&H(l.value)!==e[0].displacementScale&&j(l,e[0].displacementScale)},i(e){c||(u(i.$$.fragment,e),u(s.$$.fragment,e),c=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),c=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l),h=!1,g()}}}(e),Se="roughnessMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[38](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[39](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),ke="metalnessMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[40](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[41](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),Pe="specularMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[42](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[43](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),Te="envMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,h,g;function v(t){e[44](t,e[71])}let y={};return void 0!==e[3][e[71]].enabled&&(y.checked=e[3][e[71]].enabled),i=new Re({props:y}),O.push((()=>Z(i,"checked",v))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[45](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=d("input"),f(l,"type","number"),f(l,"step","0.1"),f(l,"class","attr-input-r ml-1")},m(t,n){S(i,t,n),$(t,a,n),S(s,t,n),$(t,r,n),$(t,l,n),j(l,e[0].envMapIntensity),c=!0,h||(g=w(l,"input",e[46]),h=!0)},p(t,n){var a,r;e=t;const c={};!o&&8&n[0]&&(o=!0,c.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(c);const u={};8&n[0]&&(u.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(u),1&n[0]&&H(l.value)!==e[0].envMapIntensity&&j(l,e[0].envMapIntensity)},i(e){c||(u(i.$$.fragment,e),u(s.$$.fragment,e),c=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),c=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l),h=!1,g()}}}(e),_e="lightMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[47](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[48](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),ze="aoMap"==e[71]&&function(e){var t,n;let i,o,a,s,r,l,c,h,g;function v(t){e[49](t,e[71])}let y={};return void 0!==e[3][e[71]].enabled&&(y.checked=e[3][e[71]].enabled),i=new Re({props:y}),O.push((()=>Z(i,"checked",v))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[50](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment),r=m(),l=d("input"),f(l,"type","number"),f(l,"step","0.1"),f(l,"class","attr-input-r ml-1")},m(t,n){S(i,t,n),$(t,a,n),S(s,t,n),$(t,r,n),$(t,l,n),j(l,e[0].aoMapIntensity),c=!0,h||(g=w(l,"input",e[51]),h=!0)},p(t,n){var a,r;e=t;const c={};!o&&8&n[0]&&(o=!0,c.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(c);const u={};8&n[0]&&(u.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(u),1&n[0]&&H(l.value)!==e[0].aoMapIntensity&&j(l,e[0].aoMapIntensity)},i(e){c||(u(i.$$.fragment,e),u(s.$$.fragment,e),c=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),c=!1},d(e){k(i,e),e&&x(a),k(s,e),e&&x(r),e&&x(l),h=!1,g()}}}(e),He="emissiveMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[52](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[53](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),je="gradientMap"==e[71]&&function(e){var t,n;let i,o,a,s,r;function l(t){e[54](t,e[71])}let c={};return void 0!==e[3][e[71]].enabled&&(c.checked=e[3][e[71]].enabled),i=new Re({props:c}),O.push((()=>Z(i,"checked",l))),s=new Ye({props:{src:null==(n=null==(t=e[3][e[71]].texture)?void 0:t.image)?void 0:n.src}}),s.$on("click",(function(){return e[55](e[71])})),{c(){E(i.$$.fragment),a=m(),E(s.$$.fragment)},m(e,t){S(i,e,t),$(e,a,t),S(s,e,t),r=!0},p(t,n){var a,r;e=t;const l={};!o&&8&n[0]&&(o=!0,l.checked=e[3][e[71]].enabled,L((()=>o=!1))),i.$set(l);const c={};8&n[0]&&(c.src=null==(r=null==(a=e[3][e[71]].texture)?void 0:a.image)?void 0:r.src),s.$set(c)},i(e){r||(u(i.$$.fragment,e),u(s.$$.fragment,e),r=!0)},o(e){p(i.$$.fragment,e),p(s.$$.fragment,e),r=!1},d(e){k(i,e),e&&x(a),k(s,e)}}}(e),Ie="side"==e[71]&&function(e){let t,n,i;function o(t){e[56](t)}let a={list:[["Front",e[6].FrontSide],["Back",e[6].BackSide],["Double",e[6].DoubleSide]]};return void 0!==e[0].side&&(a.value=e[0].side),t=new qe({props:a}),O.push((()=>Z(t,"value",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.value=e[0].side,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Xe="size"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.1"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].size),n||(i=w(t,"input",e[57]),n=!0)},p(e,n){1&n[0]&&H(t.value)!==e[0].size&&j(t,e[0].size)},d(e){e&&x(t),n=!1,i()}}}(e),Ce="sizeAttenuation"==e[71]&&function(e){let t,n,i;function o(t){e[58](t)}let a={};return void 0!==e[0].sizeAttenuation&&(a.checked=e[0].sizeAttenuation),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].sizeAttenuation,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),De="flatShading"==e[71]&&function(e){let t,n,i;function o(t){e[59](t)}let a={};return void 0!==e[0].flatShading&&(a.checked=e[0].flatShading),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].flatShading,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Le="blending"==e[71]&&function(e){let t,n,i;function o(t){e[60](t)}let a={list:[["No",e[6].NoBlending],["Normal",e[6].NormalBlending],["Additive",e[6].AdditiveBlending],["Subtractive",e[6].SubtractiveBlending],["Multiply",e[6].MultiplyBlending],["Custom",e[6].CustomBlending]]};return void 0!==e[0].blending&&(a.value=e[0].blending),t=new qe({props:a}),O.push((()=>Z(t,"value",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.value=e[0].blending,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Oe="opacity"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].opacity),n||(i=w(t,"input",e[61]),n=!0)},p(e,n){1&n[0]&&H(t.value)!==e[0].opacity&&j(t,e[0].opacity)},d(e){e&&x(t),n=!1,i()}}}(e),Ze="transparent"==e[71]&&function(e){let t,n,i;function o(t){e[62](t)}let a={};return void 0!==e[0].transparent&&(a.checked=e[0].transparent),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].transparent,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Ae="alphaTest"==e[71]&&function(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[0].alphaTest),n||(i=w(t,"input",e[63]),n=!0)},p(e,n){1&n[0]&&H(t.value)!==e[0].alphaTest&&j(t,e[0].alphaTest)},d(e){e&&x(t),n=!1,i()}}}(e),Qe="depthTest"==e[71]&&function(e){let t,n,i;function o(t){e[64](t)}let a={};return void 0!==e[0].depthTest&&(a.checked=e[0].depthTest),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].depthTest,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Be="depthWrite"==e[71]&&function(e){let t,n,i;function o(t){e[65](t)}let a={};return void 0!==e[0].depthWrite&&(a.checked=e[0].depthWrite),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].depthWrite,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e),Ne="wireframe"==e[71]&&function(e){let t,n,i;function o(t){e[66](t)}let a={};return void 0!==e[0].wireframe&&(a.checked=e[0].wireframe),t=new Re({props:a}),O.push((()=>Z(t,"checked",o))),{c(){E(t.$$.fragment)},m(e,n){S(t,e,n),i=!0},p(e,i){const o={};!n&&1&i[0]&&(n=!0,o.checked=e[0].wireframe,L((()=>n=!1))),t.$set(o)},i(e){i||(u(t.$$.fragment,e),i=!0)},o(e){p(t.$$.fragment,e),i=!1},d(e){k(t,e)}}}(e);return{c(){se&&se.c(),t=m(),re&&re.c(),n=m(),le&&le.c(),i=m(),ce&&ce.c(),o=m(),ue&&ue.c(),a=m(),pe&&pe.c(),s=m(),de&&de.c(),r=m(),he&&he.c(),l=m(),me&&me.c(),c=m(),fe&&fe.c(),g=m(),$e&&$e.c(),y=m(),ge&&ge.c(),b=m(),we&&we.c(),M=m(),ve&&ve.c(),P=m(),ye&&ye.c(),T=m(),be&&be.c(),_=m(),xe&&xe.c(),z=m(),Me&&Me.c(),I=m(),Ee&&Ee.c(),X=m(),Se&&Se.c(),Y=m(),ke&&ke.c(),C=m(),Pe&&Pe.c(),D=m(),Te&&Te.c(),q=m(),_e&&_e.c(),Q=m(),ze&&ze.c(),B=m(),He&&He.c(),N=m(),je&&je.c(),W=m(),Ie&&Ie.c(),G=m(),Xe&&Xe.c(),F=m(),Ce&&Ce.c(),U=m(),De&&De.c(),V=m(),Le&&Le.c(),K=m(),Oe&&Oe.c(),J=m(),Ze&&Ze.c(),ee=m(),Ae&&Ae.c(),te=m(),Qe&&Qe.c(),ne=m(),Be&&Be.c(),ie=m(),Ne&&Ne.c(),oe=m()},m(e,u){se&&se.m(e,u),$(e,t,u),re&&re.m(e,u),$(e,n,u),le&&le.m(e,u),$(e,i,u),ce&&ce.m(e,u),$(e,o,u),ue&&ue.m(e,u),$(e,a,u),pe&&pe.m(e,u),$(e,s,u),de&&de.m(e,u),$(e,r,u),he&&he.m(e,u),$(e,l,u),me&&me.m(e,u),$(e,c,u),fe&&fe.m(e,u),$(e,g,u),$e&&$e.m(e,u),$(e,y,u),ge&&ge.m(e,u),$(e,b,u),we&&we.m(e,u),$(e,M,u),ve&&ve.m(e,u),$(e,P,u),ye&&ye.m(e,u),$(e,T,u),be&&be.m(e,u),$(e,_,u),xe&&xe.m(e,u),$(e,z,u),Me&&Me.m(e,u),$(e,I,u),Ee&&Ee.m(e,u),$(e,X,u),Se&&Se.m(e,u),$(e,Y,u),ke&&ke.m(e,u),$(e,C,u),Pe&&Pe.m(e,u),$(e,D,u),Te&&Te.m(e,u),$(e,q,u),_e&&_e.m(e,u),$(e,Q,u),ze&&ze.m(e,u),$(e,B,u),He&&He.m(e,u),$(e,N,u),je&&je.m(e,u),$(e,W,u),Ie&&Ie.m(e,u),$(e,G,u),Xe&&Xe.m(e,u),$(e,F,u),Ce&&Ce.m(e,u),$(e,U,u),De&&De.m(e,u),$(e,V,u),Le&&Le.m(e,u),$(e,K,u),Oe&&Oe.m(e,u),$(e,J,u),Ze&&Ze.m(e,u),$(e,ee,u),Ae&&Ae.m(e,u),$(e,te,u),Qe&&Qe.m(e,u),$(e,ne,u),Be&&Be.m(e,u),$(e,ie,u),Ne&&Ne.m(e,u),$(e,oe,u),ae=!0},p(e,t){"name"==e[71]&&se.p(e,t),"color"==e[71]&&re.p(e,t),"roughness"==e[71]&&le.p(e,t),"metalness"==e[71]&&ce.p(e,t),"emissive"==e[71]&&ue.p(e,t),"specular"==e[71]&&pe.p(e,t),"shininess"==e[71]&&de.p(e,t),"clearcoat"==e[71]&&he.p(e,t),"clearcoatRoughness"==e[71]&&me.p(e,t),"vertexShader"==e[71]&&fe.p(e,t),"vertexColors"==e[71]&&$e.p(e,t),"depthPacking"==e[71]&&ge.p(e,t),"map"==e[71]&&we.p(e,t),"matcap"==e[71]&&ve.p(e,t),"alphaMap"==e[71]&&ye.p(e,t),"bumpMap"==e[71]&&be.p(e,t),"normalMap"==e[71]&&xe.p(e,t),"clearcoatNormalMap"==e[71]&&Me.p(e,t),"displacementMap"==e[71]&&Ee.p(e,t),"roughnessMap"==e[71]&&Se.p(e,t),"metalnessMap"==e[71]&&ke.p(e,t),"specularMap"==e[71]&&Pe.p(e,t),"envMap"==e[71]&&Te.p(e,t),"lightMap"==e[71]&&_e.p(e,t),"aoMap"==e[71]&&ze.p(e,t),"emissiveMap"==e[71]&&He.p(e,t),"gradientMap"==e[71]&&je.p(e,t),"side"==e[71]&&Ie.p(e,t),"size"==e[71]&&Xe.p(e,t),"sizeAttenuation"==e[71]&&Ce.p(e,t),"flatShading"==e[71]&&De.p(e,t),"blending"==e[71]&&Le.p(e,t),"opacity"==e[71]&&Oe.p(e,t),"transparent"==e[71]&&Ze.p(e,t),"alphaTest"==e[71]&&Ae.p(e,t),"depthTest"==e[71]&&Qe.p(e,t),"depthWrite"==e[71]&&Be.p(e,t),"wireframe"==e[71]&&Ne.p(e,t)},i(e){ae||(u($e),u(ge),u(we),u(ve),u(ye),u(be),u(xe),u(Me),u(Ee),u(Se),u(ke),u(Pe),u(Te),u(_e),u(ze),u(He),u(je),u(Ie),u(Ce),u(De),u(Le),u(Ze),u(Qe),u(Be),u(Ne),ae=!0)},o(e){p($e),p(ge),p(we),p(ve),p(ye),p(be),p(xe),p(Me),p(Ee),p(Se),p(ke),p(Pe),p(Te),p(_e),p(ze),p(He),p(je),p(Ie),p(Ce),p(De),p(Le),p(Ze),p(Qe),p(Be),p(Ne),ae=!1},d(e){se&&se.d(e),e&&x(t),re&&re.d(e),e&&x(n),le&&le.d(e),e&&x(i),ce&&ce.d(e),e&&x(o),ue&&ue.d(e),e&&x(a),pe&&pe.d(e),e&&x(s),de&&de.d(e),e&&x(r),he&&he.d(e),e&&x(l),me&&me.d(e),e&&x(c),fe&&fe.d(e),e&&x(g),$e&&$e.d(e),e&&x(y),ge&&ge.d(e),e&&x(b),we&&we.d(e),e&&x(M),ve&&ve.d(e),e&&x(P),ye&&ye.d(e),e&&x(T),be&&be.d(e),e&&x(_),xe&&xe.d(e),e&&x(z),Me&&Me.d(e),e&&x(I),Ee&&Ee.d(e),e&&x(X),Se&&Se.d(e),e&&x(Y),ke&&ke.d(e),e&&x(C),Pe&&Pe.d(e),e&&x(D),Te&&Te.d(e),e&&x(q),_e&&_e.d(e),e&&x(Q),ze&&ze.d(e),e&&x(B),He&&He.d(e),e&&x(N),je&&je.d(e),e&&x(W),Ie&&Ie.d(e),e&&x(G),Xe&&Xe.d(e),e&&x(F),Ce&&Ce.d(e),e&&x(U),De&&De.d(e),e&&x(V),Le&&Le.d(e),e&&x(K),Oe&&Oe.d(e),e&&x(J),Ze&&Ze.d(e),e&&x(ee),Ae&&Ae.d(e),e&&x(te),Qe&&Qe.d(e),e&&x(ne),Be&&Be.d(e),e&&x(ie),Ne&&Ne.d(e),e&&x(oe)}}}function Ue(e){let t,n,i=Object.prototype.hasOwnProperty.call(e[0],e[71]),o=i&&Ge(e);return{c(){o&&o.c(),t=P()},m(e,i){o&&o.m(e,i),$(e,t,i),n=!0},p(e,n){1&n[0]&&(i=Object.prototype.hasOwnProperty.call(e[0],e[71])),i?o?(o.p(e,n),1&n[0]&&u(o,1)):(o=Ge(e),o.c(),u(o,1),o.m(t.parentNode,t)):o&&(y(),p(o,1,1,(()=>{o=null})),b())},i(e){n||(u(o),n=!0)},o(e){p(o),n=!1},d(e){o&&o.d(e),e&&x(t)}}}function Ve(e){let t,n,i,o,a,s,r,l,c,h;i=new oe({props:{title:"Type",$$slots:{default:[Ne]},$$scope:{ctx:e}}}),a=new oe({props:{title:"UUID",$$slots:{default:[We]},$$scope:{ctx:e}}});let g=nt,v=[];for(let u=0;u<g.length;u+=1)v[u]=Ue(Qe(e,g,u));const M=e=>p(v[e],1,1,(()=>{v[e]=null}));return{c(){t=d("input"),n=m(),E(i.$$.fragment),o=m(),E(a.$$.fragment),s=m();for(let e=0;e<v.length;e+=1)v[e].c();r=P(),f(t,"type","file"),f(t,"class","hidden"),f(t,"name",""),f(t,"id","")},m(u,p){$(u,t,p),e[10](t),$(u,n,p),S(i,u,p),$(u,o,p),S(a,u,p),$(u,s,p);for(let e=0;e<v.length;e+=1)v[e].m(u,p);$(u,r,p),l=!0,c||(h=w(t,"change",e[8]),c=!0)},p(e,t){const n={};32&t[0]|4096&t[2]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const o={};if(1&t[0]|4096&t[2]&&(o.$$scope={dirty:t,ctx:e}),a.$set(o),207&t[0]){let n;for(g=nt,n=0;n<g.length;n+=1){const i=Qe(e,g,n);v[n]?(v[n].p(i,t),u(v[n],1)):(v[n]=Ue(i),v[n].c(),u(v[n],1),v[n].m(r.parentNode,r))}for(y(),n=g.length;n<v.length;n+=1)M(n);b()}},i(e){if(!l){u(i.$$.fragment,e),u(a.$$.fragment,e);for(let e=0;e<g.length;e+=1)u(v[e]);l=!0}},o(e){p(i.$$.fragment,e),p(a.$$.fragment,e),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)p(v[t]);l=!1},d(l){l&&x(t),e[10](null),l&&x(n),k(i,l),l&&x(o),k(a,l),l&&x(s),z(v,l),l&&x(r),c=!1,h()}}}function Ke(e){let t,n,i=e[0]&&Be(e);return{c(){i&&i.c(),t=P()},m(e,o){i&&i.m(e,o),$(e,t,o),n=!0},p(e,n){e[0]?i?(i.p(e,n),1&n[0]&&u(i,1)):(i=Be(e),i.c(),u(i,1),i.m(t.parentNode,t)):i&&(y(),p(i,1,1,(()=>{i=null})),b())},i(e){n||(u(i),n=!0)},o(e){p(i),n=!1},d(e){i&&i.d(e),e&&x(t)}}}let Je=null,et=!1;const tt=[["LineBasicMaterial",THREE.LineBasicMaterial],["LineDashedMaterial",THREE.LineDashedMaterial],["MeshBasicMaterial",THREE.MeshBasicMaterial],["MeshDepthMaterial",THREE.MeshDepthMaterial],["MeshNormalMaterial",THREE.MeshNormalMaterial],["MeshLambertMaterial",THREE.MeshLambertMaterial],["MeshMatcapMaterial",THREE.MeshMatcapMaterial],["MeshPhongMaterial",THREE.MeshPhongMaterial],["MeshToonMaterial",THREE.MeshToonMaterial],["MeshStandardMaterial",THREE.MeshStandardMaterial],["MeshPhysicalMaterial",THREE.MeshPhysicalMaterial],["RawShaderMaterial",THREE.RawShaderMaterial],["ShaderMaterial",THREE.ShaderMaterial],["ShadowMaterial",THREE.ShadowMaterial],["SpriteMaterial",THREE.SpriteMaterial],["PointsMaterial",THREE.PointsMaterial]],nt=["name","color","roughness","metalness","emissive","specular","shininess","clearcoat","clearcoatRoughness","vertexShader","vertexColors","depthPacking","map","matcap","alphaMap","bumpMap","normalMap","displacementMap","roughnessMap","metalnessMap","specularMap","envMap","lightMap","aoMap","emissiveMap","gradientMap","side","size","sizeAttenuation","flatShading","blending","opacity","transparent","alphaTest","depthTest","depthWrite","wireframe"];function it(e,t,n){let i,o,a,s;T(e,U,(e=>n(9,i=e)));let r,l,c={map:{enabled:!1,texture:null},alphaMap:{enabled:!1,texture:null},bumpMap:{enabled:!1,texture:null},normalMap:{enabled:!1,texture:null},displacementMap:{enabled:!1,texture:null},roughnessMap:{enabled:!1,texture:null},metalnessMap:{enabled:!1,texture:null},envMap:{enabled:!1,texture:null},lightMap:{enabled:!1,texture:null},aoMap:{enabled:!1,texture:null},emissiveMap:{enabled:!1,texture:null},specularMap:{enabled:!1,texture:null},matcap:{enabled:!1,texture:null},clearcoatNormalMap:{enabled:!1,texture:null},gradientMap:{enabled:!1,texture:null}},u=0,p=THREE;function d(e,t,i){i?n(0,o[e]=t||null,o):o.map&&!t?(t=o[e],i=!0):n(0,o[e]=null,o)}function h(e){r.click(),l=e}return e.$$.update=()=>{if(527&e.$$.dirty[0])if(i){n(0,o=i),Je===(null==o?void 0:o.id)&&(o.color.setStyle(a),o.emissive.setStyle(s));for(const e in c)if(Object.prototype.hasOwnProperty.call(c,e)){const t=c[e];Je!==(null==o?void 0:o.id)&&(t.texture=null,t.enabled=!1),d(e,t.texture,t.enabled)}Je=o.id,n(1,a="#"+(null==o?void 0:o.color.getHexString())),n(2,s="#"+(null==o?void 0:o.emissive.getHexString())),n(0,o.needsUpdate=!0,o),N.emit(W.render),console.log(o,"material")}else n(0,o=null)},[o,a,s,c,r,u,p,h,function(e){let t=e.target.files[0];(null==t?void 0:t.type.match("image.*"))&&(new THREE.TextureLoader).load(URL.createObjectURL(t),(e=>{l&&l(e)}))},i,function(e){O[e?"unshift":"push"]((()=>{r=e,n(4,r)}))},function(e){u=e,n(5,u)},function(){o.name=this.value,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(){a=this.value,n(1,a),n(9,i),n(0,o),n(2,s),n(3,c)},function(){o.roughness=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(){o.metalness=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(){s=this.value,n(2,s),n(9,i),n(0,o),n(1,a),n(3,c)},function(){o.emissiveIntensity=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t){e.$$.not_equal(o.vertexColors,t)&&(o.vertexColors=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t){e.$$.not_equal(o.depthPacking,t)&&(o.depthPacking=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(){o.bumpScale=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(){o.normalScale.x=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(){o.normalScale.y=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(){o.displacementScale=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(){o.envMapIntensity=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(){o.aoMapIntensity=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t,i){e.$$.not_equal(c[i].enabled,t)&&(c[i].enabled=t,n(3,c))},e=>h((t=>n(3,c[e].texture=t,c))),function(t){e.$$.not_equal(o.side,t)&&(o.side=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(){o.size=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t){e.$$.not_equal(o.sizeAttenuation,t)&&(o.sizeAttenuation=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t){e.$$.not_equal(o.flatShading,t)&&(o.flatShading=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t){e.$$.not_equal(o.blending,t)&&(o.blending=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(){o.opacity=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t){e.$$.not_equal(o.transparent,t)&&(o.transparent=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(){o.alphaTest=H(this.value),n(0,o),n(9,i),n(1,a),n(2,s),n(3,c)},function(t){e.$$.not_equal(o.depthTest,t)&&(o.depthTest=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t){e.$$.not_equal(o.depthWrite,t)&&(o.depthWrite=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(t){e.$$.not_equal(o.wireframe,t)&&(o.wireframe=t,n(0,o),n(9,i),n(1,a),n(2,s),n(3,c))},function(e){et=e}]}class ot extends o{constructor(e){super(),a(this,e,it,Ke,s,{},null,[-1,-1,-1])}}function at(e){let t,n,i,o,a,s,r,l,c,d,h,f,g,w,v,M,T,_,z,H,j,R,I;t=new oe({props:{title:"Type",$$slots:{default:[st]},$$scope:{ctx:e}}}),i=new oe({props:{title:"UUID",$$slots:{default:[rt]},$$scope:{ctx:e}}}),a=new oe({props:{title:"Name",$$slots:{default:[lt]},$$scope:{ctx:e}}}),r=new te({props:{title:"Transform",$$slots:{default:[ht]},$$scope:{ctx:e}}}),c=new oe({props:{title:"Visible",$$slots:{default:[mt]},$$scope:{ctx:e}}}),h=new oe({props:{title:"Frustum Cull",titleClassName:"leading-4",$$slots:{default:[ft]},$$scope:{ctx:e}}}),g=new oe({props:{title:"Shadow",$$slots:{default:[gt]},$$scope:{ctx:e}}});let X=e[1]&&wt(e);M=new oe({props:{title:"RenderOrder",$$slots:{default:[Et]},$$scope:{ctx:e}}}),_=new ze({}),H=new ot({});return{c(){E(t.$$.fragment),n=m(),E(i.$$.fragment),o=m(),E(a.$$.fragment),s=m(),E(r.$$.fragment),l=m(),E(c.$$.fragment),d=m(),E(h.$$.fragment),f=m(),E(g.$$.fragment),w=m(),X&&X.c(),v=m(),E(M.$$.fragment),T=m(),E(_.$$.fragment),z=m(),E(H.$$.fragment),j=m(),R=P()},m(e,u){S(t,e,u),$(e,n,u),S(i,e,u),$(e,o,u),S(a,e,u),$(e,s,u),S(r,e,u),$(e,l,u),S(c,e,u),$(e,d,u),S(h,e,u),$(e,f,u),S(g,e,u),$(e,w,u),X&&X.m(e,u),$(e,v,u),S(M,e,u),$(e,T,u),S(_,e,u),$(e,z,u),S(H,e,u),$(e,j,u),$(e,R,u),I=!0},p(e,n){const o={};33554433&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};33554433&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s);const l={};33554433&n&&(l.$$scope={dirty:n,ctx:e}),a.$set(l);const d={};33554437&n&&(d.$$scope={dirty:n,ctx:e}),r.$set(d);const m={};33554433&n&&(m.$$scope={dirty:n,ctx:e}),c.$set(m);const f={};33554433&n&&(f.$$scope={dirty:n,ctx:e}),h.$set(f);const $={};33554433&n&&($.$$scope={dirty:n,ctx:e}),g.$set($),e[1]?X?(X.p(e,n),2&n&&u(X,1)):(X=wt(e),X.c(),u(X,1),X.m(v.parentNode,v)):X&&(y(),p(X,1,1,(()=>{X=null})),b());const w={};33554433&n&&(w.$$scope={dirty:n,ctx:e}),M.$set(w)},i(e){I||(u(t.$$.fragment,e),u(i.$$.fragment,e),u(a.$$.fragment,e),u(r.$$.fragment,e),u(c.$$.fragment,e),u(h.$$.fragment,e),u(g.$$.fragment,e),u(X),u(M.$$.fragment,e),u(_.$$.fragment,e),u(H.$$.fragment,e),I=!0)},o(e){p(t.$$.fragment,e),p(i.$$.fragment,e),p(a.$$.fragment,e),p(r.$$.fragment,e),p(c.$$.fragment,e),p(h.$$.fragment,e),p(g.$$.fragment,e),p(X),p(M.$$.fragment,e),p(_.$$.fragment,e),p(H.$$.fragment,e),I=!1},d(e){k(t,e),e&&x(n),k(i,e),e&&x(o),k(a,e),e&&x(s),k(r,e),e&&x(l),k(c,e),e&&x(d),k(h,e),e&&x(f),k(g,e),e&&x(w),X&&X.d(e),e&&x(v),k(M,e),e&&x(T),k(_,e),e&&x(z),k(H,e),e&&x(j),e&&x(R)}}}function st(e){let t,n=e[0].type+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p(e,i){1&i&&n!==(n=e[0].type+"")&&v(t,n)},d(e){e&&x(t)}}}function rt(e){let t,n=e[0].uuid+"";return{c(){t=h(n)},m(e,n){$(e,t,n)},p(e,i){1&i&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function lt(e){let t,n,i;return{c(){t=d("div"),n=d("input"),f(n,"type","text"),f(n,"class","attr-input-r "),n.value=i=e[0].name,f(t,"class","flex-1 flex items-center")},m(e,i){$(e,t,i),g(t,n)},p(e,t){1&t&&i!==(i=e[0].name)&&n.value!==i&&(n.value=i)},d(e){e&&x(t)}}}function ct(e){let t,n,i,o,a,s,r,l,c,u,p,h,v,y,b,M;return{c(){t=d("div"),n=d("span"),n.textContent="x",i=m(),o=d("input"),a=m(),s=d("div"),r=d("span"),r.textContent="y",l=m(),c=d("input"),u=m(),p=d("div"),h=d("span"),h.textContent="z",v=m(),y=d("input"),f(n,"class","px-1"),f(o,"type","number"),f(o,"step","0.1"),f(o,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(s,"class","flex-1 flex items-center"),f(h,"class","px-1"),f(y,"type","number"),f(y,"step","0.1"),f(y,"class","attr-input-r "),f(p,"class","flex-1 flex items-center")},m(d,m){$(d,t,m),g(t,n),g(t,i),g(t,o),j(o,e[0].position.x),$(d,a,m),$(d,s,m),g(s,r),g(s,l),g(s,c),j(c,e[0].position.y),$(d,u,m),$(d,p,m),g(p,h),g(p,v),g(p,y),j(y,e[0].position.z),b||(M=[w(o,"input",e[6]),w(c,"input",e[7]),w(y,"input",e[8])],b=!0)},p(e,t){1&t&&H(o.value)!==e[0].position.x&&j(o,e[0].position.x),1&t&&H(c.value)!==e[0].position.y&&j(c,e[0].position.y),1&t&&H(y.value)!==e[0].position.z&&j(y,e[0].position.z)},d(e){e&&x(t),e&&x(a),e&&x(s),e&&x(u),e&&x(p),b=!1,A(M)}}}function ut(e){let t,n,i,o;return t=new oe({props:{title:"Rotation",$$slots:{default:[pt]},$$scope:{ctx:e}}}),i=new oe({props:{title:"Scale",$$slots:{default:[dt]},$$scope:{ctx:e}}}),{c(){E(t.$$.fragment),n=m(),E(i.$$.fragment)},m(e,a){S(t,e,a),$(e,n,a),S(i,e,a),o=!0},p(e,n){const o={};33554433&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};33554433&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a)},i(e){o||(u(t.$$.fragment,e),u(i.$$.fragment,e),o=!0)},o(e){p(t.$$.fragment,e),p(i.$$.fragment,e),o=!1},d(e){k(t,e),e&&x(n),k(i,e)}}}function pt(e){let t,n,i,o,a,s,r,l,c,u,p,h,v,y,b,M;return{c(){t=d("div"),n=d("span"),n.textContent="x",i=m(),o=d("input"),a=m(),s=d("div"),r=d("span"),r.textContent="y",l=m(),c=d("input"),u=m(),p=d("div"),h=d("span"),h.textContent="z",v=m(),y=d("input"),f(n,"class","px-1"),f(o,"type","number"),f(o,"step","0.1"),f(o,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(s,"class","flex-1 flex items-center"),f(h,"class","px-1"),f(y,"type","number"),f(y,"step","0.1"),f(y,"class","attr-input-r "),f(p,"class","flex-1 flex items-center")},m(d,m){$(d,t,m),g(t,n),g(t,i),g(t,o),j(o,e[0].rotation.x),$(d,a,m),$(d,s,m),g(s,r),g(s,l),g(s,c),j(c,e[0].rotation.y),$(d,u,m),$(d,p,m),g(p,h),g(p,v),g(p,y),j(y,e[0].rotation.z),b||(M=[w(o,"input",e[9]),w(c,"input",e[10]),w(y,"input",e[11])],b=!0)},p(e,t){1&t&&H(o.value)!==e[0].rotation.x&&j(o,e[0].rotation.x),1&t&&H(c.value)!==e[0].rotation.y&&j(c,e[0].rotation.y),1&t&&H(y.value)!==e[0].rotation.z&&j(y,e[0].rotation.z)},d(e){e&&x(t),e&&x(a),e&&x(s),e&&x(u),e&&x(p),b=!1,A(M)}}}function dt(e){let t,n,i,o,a,s,r,l,c,u,p,h,v,y,b,M;return{c(){t=d("div"),n=d("span"),n.textContent="x",i=m(),o=d("input"),a=m(),s=d("div"),r=d("span"),r.textContent="y",l=m(),c=d("input"),u=m(),p=d("div"),h=d("span"),h.textContent="z",v=m(),y=d("input"),f(n,"class","px-1"),f(o,"type","number"),f(o,"step","0.1"),f(o,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(s,"class","flex-1 flex items-center"),f(h,"class","px-1"),f(y,"type","number"),f(y,"step","0.1"),f(y,"class","attr-input-r "),f(p,"class","flex-1 flex items-center")},m(d,m){$(d,t,m),g(t,n),g(t,i),g(t,o),j(o,e[0].scale.x),$(d,a,m),$(d,s,m),g(s,r),g(s,l),g(s,c),j(c,e[0].scale.y),$(d,u,m),$(d,p,m),g(p,h),g(p,v),g(p,y),j(y,e[0].scale.z),b||(M=[w(o,"input",e[12]),w(c,"input",e[13]),w(y,"input",e[14])],b=!0)},p(e,t){1&t&&H(o.value)!==e[0].scale.x&&j(o,e[0].scale.x),1&t&&H(c.value)!==e[0].scale.y&&j(c,e[0].scale.y),1&t&&H(y.value)!==e[0].scale.z&&j(y,e[0].scale.z)},d(e){e&&x(t),e&&x(a),e&&x(s),e&&x(u),e&&x(p),b=!1,A(M)}}}function ht(e){let t,n,i,o;t=new oe({props:{title:"Position",$$slots:{default:[ct]},$$scope:{ctx:e}}});let a=null==e[2]&&ut(e);return{c(){E(t.$$.fragment),n=m(),a&&a.c(),i=P()},m(e,s){S(t,e,s),$(e,n,s),a&&a.m(e,s),$(e,i,s),o=!0},p(e,n){const o={};33554433&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),null==e[2]?a?(a.p(e,n),4&n&&u(a,1)):(a=ut(e),a.c(),u(a,1),a.m(i.parentNode,i)):a&&(y(),p(a,1,1,(()=>{a=null})),b())},i(e){o||(u(t.$$.fragment,e),u(a),o=!0)},o(e){p(t.$$.fragment,e),p(a),o=!1},d(e){k(t,e),e&&x(n),a&&a.d(e),e&&x(i)}}}function mt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(o,a){$(o,t,a),t.checked=e[0].visible,n||(i=w(t,"change",e[15]),n=!0)},p(e,n){1&n&&(t.checked=e[0].visible)},d(e){e&&x(t),n=!1,i()}}}function ft(e){let t,n,i;return{c(){t=d("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(o,a){$(o,t,a),t.checked=e[0].frustumCulled,n||(i=w(t,"change",e[16]),n=!0)},p(e,n){1&n&&(t.checked=e[0].frustumCulled)},d(e){e&&x(t),n=!1,i()}}}function $t(e){let t,n,i,o,a;return{c(){t=d("input"),n=m(),i=d("label"),i.textContent="receive",f(t,"id","receive"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r"),f(i,"class","px-1 select-none"),f(i,"for","receive")},m(s,r){$(s,t,r),t.checked=e[0].receiveShadow,$(s,n,r),$(s,i,r),o||(a=w(t,"change",e[18]),o=!0)},p(e,n){1&n&&(t.checked=e[0].receiveShadow)},d(e){e&&x(t),e&&x(n),e&&x(i),o=!1,a()}}}function gt(e){let t,n,i,o,a,s,r,l="Mesh"==e[0].type&&$t(e);return{c(){t=d("input"),n=m(),i=d("label"),i.textContent="cost",o=m(),l&&l.c(),a=P(),f(t,"id","cost"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r"),f(i,"class","px-1 select-none"),f(i,"for","cost")},m(c,u){$(c,t,u),t.checked=e[0].castShadow,$(c,n,u),$(c,i,u),$(c,o,u),l&&l.m(c,u),$(c,a,u),s||(r=w(t,"change",e[17]),s=!0)},p(e,n){1&n&&(t.checked=e[0].castShadow),"Mesh"==e[0].type?l?l.p(e,n):(l=$t(e),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(e){e&&x(t),e&&x(n),e&&x(i),e&&x(o),l&&l.d(e),e&&x(a),s=!1,r()}}}function wt(e){let t,n,i,o,a,s,r,l,c,d;return t=new oe({props:{title:"Intensity",$$slots:{default:[vt]},$$scope:{ctx:e}}}),i=new oe({props:{title:"Color",$$slots:{default:[yt]},$$scope:{ctx:e}}}),a=new oe({props:{title:"Shadow Bias",$$slots:{default:[bt]},$$scope:{ctx:e}}}),r=new oe({props:{title:"Shadow Normal Bias",$$slots:{default:[xt]},$$scope:{ctx:e}}}),c=new oe({props:{title:"Shadow Radius",$$slots:{default:[Mt]},$$scope:{ctx:e}}}),{c(){E(t.$$.fragment),n=m(),E(i.$$.fragment),o=m(),E(a.$$.fragment),s=m(),E(r.$$.fragment),l=m(),E(c.$$.fragment)},m(e,u){S(t,e,u),$(e,n,u),S(i,e,u),$(e,o,u),S(a,e,u),$(e,s,u),S(r,e,u),$(e,l,u),S(c,e,u),d=!0},p(e,n){const o={};33554434&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};33554440&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s);const l={};33554434&n&&(l.$$scope={dirty:n,ctx:e}),a.$set(l);const u={};33554434&n&&(u.$$scope={dirty:n,ctx:e}),r.$set(u);const p={};33554434&n&&(p.$$scope={dirty:n,ctx:e}),c.$set(p)},i(e){d||(u(t.$$.fragment,e),u(i.$$.fragment,e),u(a.$$.fragment,e),u(r.$$.fragment,e),u(c.$$.fragment,e),d=!0)},o(e){p(t.$$.fragment,e),p(i.$$.fragment,e),p(a.$$.fragment,e),p(r.$$.fragment,e),p(c.$$.fragment,e),d=!1},d(e){k(t,e),e&&x(n),k(i,e),e&&x(o),k(a,e),e&&x(s),k(r,e),e&&x(l),k(c,e)}}}function vt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.1"),f(t,"class","attr-input-r ")},m(o,a){$(o,t,a),j(t,e[1].intensity),n||(i=w(t,"input",e[19]),n=!0)},p(e,n){2&n&&H(t.value)!==e[1].intensity&&j(t,e[1].intensity)},d(e){e&&x(t),n=!1,i()}}}function yt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","color"),f(t,"class","attr-input-r ")},m(o,a){$(o,t,a),j(t,e[3]),n||(i=w(t,"input",e[20]),n=!0)},p(e,n){8&n&&j(t,e[3])},d(e){e&&x(t),n=!1,i()}}}function bt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.0001"),f(t,"class","attr-input-r")},m(o,a){$(o,t,a),j(t,e[1].shadow.bias),n||(i=w(t,"input",e[21]),n=!0)},p(e,n){2&n&&H(t.value)!==e[1].shadow.bias&&j(t,e[1].shadow.bias)},d(e){e&&x(t),n=!1,i()}}}function xt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.1"),f(t,"class","attr-input-r ")},m(o,a){$(o,t,a),j(t,e[1].shadow.normalBias),n||(i=w(t,"input",e[22]),n=!0)},p(e,n){2&n&&H(t.value)!==e[1].shadow.normalBias&&j(t,e[1].shadow.normalBias)},d(e){e&&x(t),n=!1,i()}}}function Mt(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r ")},m(o,a){$(o,t,a),j(t,e[1].shadow.radius),n||(i=w(t,"input",e[23]),n=!0)},p(e,n){2&n&&H(t.value)!==e[1].shadow.radius&&j(t,e[1].shadow.radius)},d(e){e&&x(t),n=!1,i()}}}function Et(e){let t,n,i;return{c(){t=d("input"),f(t,"type","number"),f(t,"class","attr-input-r ")},m(o,a){$(o,t,a),j(t,e[0].renderOrder),n||(i=w(t,"input",e[24]),n=!0)},p(e,n){1&n&&H(t.value)!==e[0].renderOrder&&j(t,e[0].renderOrder)},d(e){e&&x(t),n=!1,i()}}}function St(e){let t,n,i,o,a,s,r,l,c,w=null!=e[0]&&at(e);return{c(){t=d("div"),n=d("div"),i=d("button"),o=d("img"),s=h("Inspector"),r=m(),l=d("div"),w&&w.c(),f(o,"class","inline w-3 mx-1"),I(o.src,a="/assets/joomla.9ecfab72.svg")||f(o,"src","/assets/joomla.9ecfab72.svg"),f(o,"alt",""),f(i,"class","px-3 bg-gray-200"),f(n,"class","bg-gray-300 leading-8"),f(l,"class","content bg-gray-200 leading-8 justify-between"),f(t,"class","component-view overflow-y-auto overflow-x-hidden h-full")},m(e,a){$(e,t,a),g(t,n),g(n,i),g(i,o),g(i,s),g(t,r),g(t,l),w&&w.m(l,null),c=!0},p(e,[t]){null!=e[0]?w?(w.p(e,t),1&t&&u(w,1)):(w=at(e),w.c(),u(w,1),w.m(l,null)):w&&(y(),p(w,1,1,(()=>{w=null})),b())},i(e){c||(u(w),c=!0)},o(e){p(w),c=!1},d(e){e&&x(t),w&&w.d()}}}function kt(e,t,n){let i,o;T(e,F,(e=>n(4,i=e))),T(e,V,(e=>n(5,o=e)));let a,s=null,r=null,l=null;return q((()=>{l&&l.update(),N.emit(W.render)})),e.$$.update=()=>{32&e.$$.dirty&&n(2,l=o),16&e.$$.dirty&&n(0,s=i),11&e.$$.dirty&&s&&("Mesh"!==s.type?(n(1,r=s),r.color.setStyle(a),n(3,a="#"+r.color.getHexString())):n(1,r=null)),4&e.$$.dirty&&l&&l.update()},[s,r,l,a,i,o,function(){s.position.x=H(this.value),n(0,s),n(4,i)},function(){s.position.y=H(this.value),n(0,s),n(4,i)},function(){s.position.z=H(this.value),n(0,s),n(4,i)},function(){s.rotation.x=H(this.value),n(0,s),n(4,i)},function(){s.rotation.y=H(this.value),n(0,s),n(4,i)},function(){s.rotation.z=H(this.value),n(0,s),n(4,i)},function(){s.scale.x=H(this.value),n(0,s),n(4,i)},function(){s.scale.y=H(this.value),n(0,s),n(4,i)},function(){s.scale.z=H(this.value),n(0,s),n(4,i)},function(){s.visible=this.checked,n(0,s),n(4,i)},function(){s.frustumCulled=this.checked,n(0,s),n(4,i)},function(){s.castShadow=this.checked,n(0,s),n(4,i)},function(){s.receiveShadow=this.checked,n(0,s),n(4,i)},function(){r.intensity=H(this.value),n(1,r),n(0,s),n(3,a),n(4,i)},function(){a=this.value,n(3,a),n(0,s),n(1,r),n(4,i)},function(){r.shadow.bias=H(this.value),n(1,r),n(0,s),n(3,a),n(4,i)},function(){r.shadow.normalBias=H(this.value),n(1,r),n(0,s),n(3,a),n(4,i)},function(){r.shadow.radius=H(this.value),n(1,r),n(0,s),n(3,a),n(4,i)},function(){s.renderOrder=H(this.value),n(0,s),n(4,i)}]}class Pt extends o{constructor(e){super(),a(this,e,kt,St,s,{})}}const Tt=new Map;let _t=100;function zt(e,t){Tt.has(e["#instanceId"])||(_t++,e["#instanceId"]=_t,Tt.set(_t,new e)),e[t]=Tt.get(_t)}var Ht=Object.defineProperty,jt=Object.getOwnPropertyDescriptor;"undefined"!=typeof require&&require;var Rt,It;(It=Rt||(Rt={}))[It.group=0]="group",It[It.box=1]="box",It[It.sphere=2]="sphere",It[It.directionalLight=3]="directionalLight";class Xt{create(e){switch(e){case 1:return this.createBox();case 2:return this.createSphere();case 3:return this.createDirectionalLight();default:return null}}createBox(){let e=new THREE.BoxGeometry,t=new THREE.MeshStandardMaterial,n=new THREE.Mesh(e,t);return n.name="Box",{object:n,helper:null}}createSphere(){let e=new THREE.SphereGeometry,t=new THREE.MeshStandardMaterial,n=new THREE.Mesh(e,t);return n.name="Sphere",{object:n,helper:null}}createAmbientLight(){const e=new THREE.AmbientLight(4210752,1);return e.position.set(1,1,1),{object:e,helper:null}}createDirectionalLight(){const e=new THREE.DirectionalLight(16777215,1);e.position.set(5,10,7.5);let t=new THREE.DirectionalLightHelper(e,1);e.name="DirectionalLight";var n=new THREE.SphereGeometry(2,4,2),i=new THREE.MeshBasicMaterial({color:16711680,visible:!1}),o=new THREE.Mesh(n,i);return o.name="picker",o.userData.object=e,t.add(o),{object:e,helper:t}}}t(Xt,"inst"),((e,t,n,i)=>{for(var o,a=i>1?void 0:i?jt(t,n):t,s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i?o(t,n,a):o(a))||a);i&&a&&Ht(t,n,a)})([zt],Xt,"inst",2);const Yt=window.THREE;function Ct(e,t){this.enabled=!0,this.center=new Yt.Vector3,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var n=this,i=new Yt.Vector3,o=new Yt.Vector3,a=new Yt.Box3,s=-1,r=0,l=1,c=2,u=s,p=this.center,d=new Yt.Matrix3,h=new Yt.Vector2,m=new Yt.Vector2,f=new Yt.Spherical,$=new Yt.Sphere,g={type:"change"};function w(e){if(!1!==n.enabled){switch(e.pointerType){case"mouse":case"pen":!function(e){0===e.button?u=r:1===e.button?u=l:2===e.button&&(u=c);m.set(e.clientX,e.clientY)}(e)}t.ownerDocument.addEventListener("pointermove",v,!1),t.ownerDocument.addEventListener("pointerup",y,!1)}}function v(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){h.set(e.clientX,e.clientY);var t=h.x-m.x,i=h.y-m.y;u===r?n.rotate(o.set(-t,-i,0)):u===l?n.zoom(o.set(0,0,i)):u===c&&n.pan(o.set(-t,i,0));m.set(e.clientX,e.clientY)}(e)}}function y(e){switch(e.pointerType){case"mouse":case"pen":b()}t.ownerDocument.removeEventListener("pointermove",v,!1),t.ownerDocument.removeEventListener("pointerup",y,!1)}function b(){u=s}function x(e){!1!==n.enabled&&(e.preventDefault(),n.zoom(o.set(0,0,e.deltaY>0?1:-1)))}function M(e){e.preventDefault()}this.focus=function(t){var i;a.setFromObject(t),!1===a.isEmpty()?(a.getCenter(p),i=a.getBoundingSphere($).radius):(p.setFromMatrixPosition(t.matrixWorld),i=.1),o.set(0,0,1),o.applyQuaternion(e.quaternion),o.multiplyScalar(4*i),e.position.copy(p).add(o),n.dispatchEvent(g)},this.pan=function(t){var i=e.position.distanceTo(p);t.multiplyScalar(i*n.panSpeed),t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),p.add(t),n.dispatchEvent(g)},this.zoom=function(t){var i=e.position.distanceTo(p);t.multiplyScalar(i*n.zoomSpeed),t.length()>i||(t.applyMatrix3(d.getNormalMatrix(e.matrix)),e.position.add(t),n.dispatchEvent(g))},this.rotate=function(t){i.copy(e.position).sub(p),f.setFromVector3(i),f.theta+=t.x*n.rotationSpeed,f.phi+=t.y*n.rotationSpeed,f.makeSafe(),i.setFromSpherical(f),e.position.copy(p).add(i),e.lookAt(p),n.dispatchEvent(g)},this.dispose=function(){t.removeEventListener("contextmenu",M,!1),t.removeEventListener("dblclick",b,!1),t.removeEventListener("wheel",x,!1),t.removeEventListener("pointerdown",w,!1),t.removeEventListener("touchstart",P,!1),t.removeEventListener("touchmove",T,!1)},t.addEventListener("contextmenu",M,!1),t.addEventListener("dblclick",b,!1),t.addEventListener("wheel",x,!1),t.addEventListener("pointerdown",w,!1);var E=[new Yt.Vector3,new Yt.Vector3,new Yt.Vector3],S=[new Yt.Vector3,new Yt.Vector3,new Yt.Vector3],k=null;function P(e){if(!1!==n.enabled){switch(e.touches.length){case 1:E[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),E[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:E[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),E[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio),k=E[0].distanceTo(E[1])}S[0].copy(E[0]),S[1].copy(E[1])}}function T(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:E[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),E[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),n.rotate(E[0].sub(s(E[0],S)).multiplyScalar(-1));break;case 2:E[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),E[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var t=E[0].distanceTo(E[1]);n.zoom(o.set(0,0,k-t)),k=t;var i=E[0].clone().sub(s(E[0],S)),a=E[1].clone().sub(s(E[1],S));i.x=-i.x,a.x=-a.x,n.pan(i.add(a))}S[0].copy(E[0]),S[1].copy(E[1])}function s(e,t){var n=t[0];for(var i in t)n.distanceTo(e)>t[i].distanceTo(e)&&(n=t[i]);return n}}t.addEventListener("touchstart",P,!1),t.addEventListener("touchmove",T,!1)}Ct.prototype=Object.create(Yt.EventDispatcher.prototype),Ct.prototype.constructor=Ct;const Dt=window.THREE;class Lt extends Dt.Object3D{constructor(e,n=null){super(),t(this,"animating",!1),t(this,"controls",null),t(this,"render"),t(this,"handleClick"),t(this,"isViewHelper"),t(this,"update"),this.animating=!1,this.controls=null;const i=new Dt.Color("#ff3653"),o=new Dt.Color("#8adb00"),a=new Dt.Color("#2c8fff"),s=[],r=new Dt.Raycaster,l=new Dt.Vector2,c=new Dt.Object3D,u=new Dt.OrthographicCamera(-2,2,2,-2,0,4);u.position.set(0,0,2);const p=new Dt.BoxGeometry(.8,.05,.05).translate(.4,0,0),d=new Dt.Mesh(p,z(i)),h=new Dt.Mesh(p,z(o)),m=new Dt.Mesh(p,z(a));h.rotation.z=Math.PI/2,m.rotation.y=-Math.PI/2,this.add(d),this.add(m),this.add(h);const f=new Dt.Sprite(H(i,"X"));f.userData.type="posX";const $=new Dt.Sprite(H(o,"Y"));$.userData.type="posY";const g=new Dt.Sprite(H(a,"Z"));g.userData.type="posZ";const w=new Dt.Sprite(H(i));w.userData.type="negX";const v=new Dt.Sprite(H(o));v.userData.type="negY";const y=new Dt.Sprite(H(a));y.userData.type="negZ",f.position.x=1,$.position.y=1,g.position.z=1,w.position.x=-1,w.scale.setScalar(.8),v.position.y=-1,v.scale.setScalar(.8),y.position.z=-1,y.scale.setScalar(.8),this.add(f),this.add($),this.add(g),this.add(w),this.add(v),this.add(y),s.push(f),s.push($),s.push(g),s.push(w),s.push(v),s.push(y);const b=new Dt.Vector3,x=128,M=2*Math.PI;this.render=function(t){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),b.set(0,0,1),b.applyQuaternion(e.quaternion),b.x>=0?(f.material.opacity=1,w.material.opacity=.5):(f.material.opacity=.5,w.material.opacity=1),b.y>=0?($.material.opacity=1,v.material.opacity=.5):($.material.opacity=.5,v.material.opacity=1),b.z>=0?(g.material.opacity=1,y.material.opacity=.5):(g.material.opacity=.5,y.material.opacity=1);const i=n.dom.clientWidth-x+(n.dom.width-n.dom.clientWidth);t.clearDepth(),t.setViewport(i,0,x,x),u.updateProjectionMatrix(),t.render(this,u)};const E=new Dt.Vector3,S=new Dt.Quaternion,k=new Dt.Quaternion,P=new Dt.Quaternion;let T=0,_=n.dom;function z(e){return new Dt.MeshBasicMaterial({color:e,toneMapped:!1})}function H(e,t=null){const n=document.createElement("canvas");n.width=64,n.height=64;const i=n.getContext("2d");i.beginPath(),i.arc(32,32,16,0,2*Math.PI),i.closePath(),i.fillStyle=e.getStyle(),i.fill(),null!==t&&(i.font="24px Arial",i.textAlign="center",i.fillStyle="#000000",i.fillText(t,32,41));const o=new Dt.CanvasTexture(n);return new Dt.SpriteMaterial({map:o,toneMapped:!1})}N.addListener(W.onPointerDown,(t=>{let i=n.dom.clientWidth-x,o=n.dom.clientHeight-x,a=t.clientX-_.offsetLeft,p=t.clientY-_.offsetTop;l.x=(a-i)/x*2-1,l.y=-(p-o)/x*2+1,r.setFromCamera(l,u);const d=r.intersectObjects(s);if(d.length>0){return function(t,n){switch(t.userData.type){case"posX":E.set(1,0,0),S.setFromEuler(new Dt.Euler(0,.5*Math.PI,0));break;case"posY":E.set(0,1,0),S.setFromEuler(new Dt.Euler(.5*-Math.PI,0,0));break;case"posZ":E.set(0,0,1),S.setFromEuler(new Dt.Euler);break;case"negX":E.set(-1,0,0),S.setFromEuler(new Dt.Euler(0,.5*-Math.PI,0));break;case"negY":E.set(0,-1,0),S.setFromEuler(new Dt.Euler(.5*Math.PI,0,0));break;case"negZ":E.set(0,0,-1),S.setFromEuler(new Dt.Euler(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}T=e.position.distanceTo(n),E.multiplyScalar(T).add(n),c.position.copy(n),c.lookAt(e.position),k.copy(c.quaternion),c.lookAt(E),P.copy(c.quaternion)}(d[0].object,this.controls.center),this.animating=!0,!0}return!1})),this.update=function(t){const n=t*M,i=this.controls.center;k.rotateTowards(P,n),e.position.set(0,0,1).applyQuaternion(k).multiplyScalar(T).add(i),e.quaternion.rotateTowards(S,n),0===k.angleTo(P)&&(this.animating=!1)}}}Lt.prototype.isViewHelper=!0;const Ot=window.THREE.BoxGeometry,Zt=window.THREE.BufferGeometry,At=window.THREE.Color,qt=window.THREE.CylinderGeometry,Qt=window.THREE.DoubleSide,Bt=window.THREE.Euler,Nt=window.THREE.Float32BufferAttribute,Wt=window.THREE.Line,Gt=window.THREE.LineBasicMaterial,Ft=window.THREE.Matrix4,Ut=window.THREE.Mesh,Vt=window.THREE.MeshBasicMaterial,Kt=window.THREE.Object3D,Jt=window.THREE.OctahedronGeometry,en=window.THREE.PlaneGeometry,tn=window.THREE.Quaternion,nn=window.THREE.Raycaster,on=window.THREE.SphereGeometry,an=window.THREE.TorusGeometry,sn=window.THREE.Vector3,rn=new nn,ln=new sn,cn=new sn,un=new tn,pn={X:new sn(1,0,0),Y:new sn(0,1,0),Z:new sn(0,0,1)},dn={type:"change"},hn={type:"mouseDown"},mn={type:"mouseUp",mode:null},fn={type:"objectChange"};class $n extends Kt{constructor(e,n){super(),t(this,"showX"),t(this,"showY"),t(this,"showZ"),t(this,"enabled"),void 0===n&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.visible=!1,this.domElement=n;const i=new Cn;this._gizmo=i,this.add(i);const o=new Dn;this._plane=o,this.add(o);const a=this;function s(e,t){let n=t;Object.defineProperty(a,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,o[e]=t,i[e]=t,a.dispatchEvent({type:e+"-changed",value:t}),a.dispatchEvent(dn))}}),a[e]=t,o[e]=t,i[e]=t}s("camera",e),s("object",void 0),s("enabled",!0),s("axis",null),s("mode","translate"),s("translationSnap",null),s("rotationSnap",null),s("scaleSnap",null),s("space","world"),s("size",1),s("dragging",!1),s("showX",!0),s("showY",!0),s("showZ",!0);const r=new sn,l=new sn,c=new tn,u=new tn,p=new sn,d=new tn,h=new sn,m=new sn,f=new sn,$=new sn;s("worldPosition",r),s("worldPositionStart",l),s("worldQuaternion",c),s("worldQuaternionStart",u),s("cameraPosition",p),s("cameraQuaternion",d),s("pointStart",h),s("pointEnd",m),s("rotationAxis",f),s("rotationAngle",0),s("eye",$),this._offset=new sn,this._startNorm=new sn,this._endNorm=new sn,this._cameraScale=new sn,this._parentPosition=new sn,this._parentQuaternion=new tn,this._parentQuaternionInv=new tn,this._parentScale=new sn,this._worldScaleStart=new sn,this._worldQuaternionInv=new tn,this._worldScale=new sn,this._positionStart=new sn,this._quaternionStart=new tn,this._scaleStart=new sn,this._getPointer=gn.bind(this),this._onPointerDown=vn.bind(this),this._onPointerHover=wn.bind(this),this._onPointerMove=yn.bind(this),this._onPointerUp=bn.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(void 0===this.object||!0===this.dragging)return;rn.setFromCamera(e,this.camera);const t=xn(this._gizmo.picker[this.mode],rn);this.axis=t?t.object.name:null}pointerDown(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){rn.setFromCamera(e,this.camera);const t=xn(this._plane,rn,!0);if(t){let e=this.space;if("scale"===this.mode?e="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(e="world"),"local"===e&&"rotate"===this.mode){const e=this.rotationSnap;"X"===this.axis&&e&&(this.object.rotation.x=Math.round(this.object.rotation.x/e)*e),"Y"===this.axis&&e&&(this.object.rotation.y=Math.round(this.object.rotation.y/e)*e),"Z"===this.axis&&e&&(this.object.rotation.z=Math.round(this.object.rotation.z/e)*e)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)}this.dragging=!0,hn.mode=this.mode,this.dispatchEvent(hn)}}pointerMove(e){const t=this.axis,n=this.mode,i=this.object;let o=this.space;if("scale"===n?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0===i||null===t||!1===this.dragging||-1!==e.button)return;rn.setFromCamera(e,this.camera);const a=xn(this._plane,rn,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),"translate"===n)this._offset.copy(this.pointEnd).sub(this.pointStart),"local"===o&&"XYZ"!==t&&this._offset.applyQuaternion(this._worldQuaternionInv),-1===t.indexOf("X")&&(this._offset.x=0),-1===t.indexOf("Y")&&(this._offset.y=0),-1===t.indexOf("Z")&&(this._offset.z=0),"local"===o&&"XYZ"!==t?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),i.position.copy(this._offset).add(this._positionStart),this.translationSnap&&("local"===o&&(i.position.applyQuaternion(un.copy(this._quaternionStart).invert()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(this._quaternionStart)),"world"===o&&(i.parent&&i.position.add(ln.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(ln.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),cn.set(e,e,e)}else ln.copy(this.pointStart),cn.copy(this.pointEnd),ln.applyQuaternion(this._worldQuaternionInv),cn.applyQuaternion(this._worldQuaternionInv),cn.divide(ln),-1===t.search("X")&&(cn.x=1),-1===t.search("Y")&&(cn.y=1),-1===t.search("Z")&&(cn.z=1);i.scale.copy(this._scaleStart).multiply(cn),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this._offset.copy(this.pointEnd).sub(this.pointStart);const e=20/this.worldPosition.distanceTo(ln.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(ln.copy(this.rotationAxis).cross(this.eye))*e):"X"!==t&&"Y"!==t&&"Z"!==t||(this.rotationAxis.copy(pn[t]),ln.copy(pn[t]),"local"===o&&ln.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(ln.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===o&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(this._quaternionStart),i.quaternion.multiply(un.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),i.quaternion.copy(un.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),i.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(dn),this.dispatchEvent(fn)}}pointerUp(e){0===e.button&&(this.dragging&&null!==this.axis&&(mn.mode=this.mode,this.dispatchEvent(mn)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}function gn(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=e.changedTouches?e.changedTouches[0]:e,n=this.domElement.getBoundingClientRect();return{x:(t.clientX-n.left)/n.width*2-1,y:-(t.clientY-n.top)/n.height*2+1,button:e.button}}}function wn(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e))}}function vn(e){this.enabled&&(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function yn(e){this.enabled&&this.pointerMove(this._getPointer(e))}function bn(e){this.enabled&&(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function xn(e,t,n){const i=t.intersectObject(e,!0);for(let o=0;o<i.length;o++)if(i[o].object.visible||n)return i[o];return!1}$n.prototype.isTransformControls=!0;const Mn=new Bt,En=new sn(0,1,0),Sn=new sn(0,0,0),kn=new Ft,Pn=new tn,Tn=new tn,_n=new sn,zn=new Ft,Hn=new sn(1,0,0),jn=new sn(0,1,0),Rn=new sn(0,0,1),In=new sn,Xn=new sn,Yn=new sn;class Cn extends Kt{constructor(){super(),this.type="TransformControlsGizmo";const e=new Vt({depthTest:!1,depthWrite:!1,transparent:!0,side:Qt,fog:!1,toneMapped:!1}),t=new Gt({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;const i=e.clone();i.opacity=.33;const o=e.clone();o.color.set(16711680);const a=e.clone();a.color.set(65280);const s=e.clone();s.color.set(255);const r=e.clone();r.opacity=.25;const l=r.clone();l.color.set(16776960);const c=r.clone();c.color.set(65535);const u=r.clone();u.color.set(16711935);e.clone().color.set(16776960);const p=t.clone();p.color.set(16711680);const d=t.clone();d.color.set(65280);const h=t.clone();h.color.set(255);const m=t.clone();m.color.set(65535);const f=t.clone();f.color.set(16711935);const $=t.clone();$.color.set(16776960);const g=t.clone();g.color.set(7895160);const w=$.clone();w.opacity=.25;const v=new qt(0,.05,.2,12,1,!1),y=new Ot(.125,.125,.125),b=new Zt;function x(e,t){const n=new Zt,i=[];for(let o=0;o<=64*t;++o)i.push(0,Math.cos(o/32*Math.PI)*e,Math.sin(o/32*Math.PI)*e);return n.setAttribute("position",new Nt(i,3)),n}b.setAttribute("position",new Nt([0,0,0,1,0,0],3));const M={X:[[new Ut(v,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Ut(v,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Wt(b,p)]],Y:[[new Ut(v,a),[0,1,0],null,null,"fwd"],[new Ut(v,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Wt(b,d),null,[0,0,Math.PI/2]]],Z:[[new Ut(v,s),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Ut(v,s),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Wt(b,h),null,[0,-Math.PI/2,0]]],XYZ:[[new Ut(new Jt(.1,0),r.clone()),[0,0,0],[0,0,0]]],XY:[[new Ut(new en(.295,.295),l.clone()),[.15,.15,0]],[new Wt(b,$),[.18,.3,0],null,[.125,1,1]],[new Wt(b,$),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ut(new en(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Wt(b,m),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Wt(b,m),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ut(new en(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Wt(b,f),[.18,0,.3],null,[.125,1,1]],[new Wt(b,f),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},E={X:[[new Ut(new qt(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Ut(new qt(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new Ut(new qt(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Ut(new Jt(.2,0),n)]],XY:[[new Ut(new en(.4,.4),n),[.2,.2,0]]],YZ:[[new Ut(new en(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Ut(new en(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},S={START:[[new Ut(new Jt(.01,2),i),null,null,null,"helper"]],END:[[new Ut(new Jt(.01,2),i),null,null,null,"helper"]],DELTA:[[new Wt(function(){const e=new Zt;return e.setAttribute("position",new Nt([0,0,0,1,1,1],3)),e}(),i),null,null,null,"helper"]],X:[[new Wt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Wt(b,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Wt(b,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},k={X:[[new Wt(x(1,.5),p)],[new Ut(new Jt(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new Wt(x(1,.5),d),null,[0,0,-Math.PI/2]],[new Ut(new Jt(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new Wt(x(1,.5),h),null,[0,Math.PI/2,0]],[new Ut(new Jt(.04,0),s),[.99,0,0],null,[1,3,1]]],E:[[new Wt(x(1.25,1),w),null,[0,Math.PI/2,0]],[new Ut(new qt(.03,0,.15,4,1,!1),w),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Ut(new qt(.03,0,.15,4,1,!1),w),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Ut(new qt(.03,0,.15,4,1,!1),w),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Ut(new qt(.03,0,.15,4,1,!1),w),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Wt(x(1,1),g),null,[0,Math.PI/2,0]]]},P={AXIS:[[new Wt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},T={X:[[new Ut(new an(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Ut(new an(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Ut(new an(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Ut(new an(1.25,.1,2,24),n)]],XYZE:[[new Ut(new on(.7,10,8),n)]]},_={X:[[new Ut(y,o),[.8,0,0],[0,0,-Math.PI/2]],[new Wt(b,p),null,null,[.8,1,1]]],Y:[[new Ut(y,a),[0,.8,0]],[new Wt(b,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Ut(y,s),[0,0,.8],[Math.PI/2,0,0]],[new Wt(b,h),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Ut(y,l),[.85,.85,0],null,[2,2,.2]],[new Wt(b,$),[.855,.98,0],null,[.125,1,1]],[new Wt(b,$),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ut(y,c),[0,.85,.85],null,[.2,2,2]],[new Wt(b,m),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Wt(b,m),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ut(y,u),[.85,0,.85],null,[2,.2,2]],[new Wt(b,f),[.855,0,.98],null,[.125,1,1]],[new Wt(b,f),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Ut(new Ot(.125,.125,.125),r.clone()),[1.1,0,0]]],XYZY:[[new Ut(new Ot(.125,.125,.125),r.clone()),[0,1.1,0]]],XYZZ:[[new Ut(new Ot(.125,.125,.125),r.clone()),[0,0,1.1]]]},z={X:[[new Ut(new qt(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Ut(new qt(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new Ut(new qt(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Ut(y,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Ut(y,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Ut(y,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Ut(new Ot(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new Ut(new Ot(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new Ut(new Ot(.2,.2,.2),n),[0,0,1.1]]]},H={X:[[new Wt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Wt(b,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Wt(b,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function j(e){const t=new Kt;for(const n in e)for(let i=e[n].length;i--;){const o=e[n][i][0].clone(),a=e[n][i][1],s=e[n][i][2],r=e[n][i][3],l=e[n][i][4];o.name=n,o.tag=l,a&&o.position.set(a[0],a[1],a[2]),s&&o.rotation.set(s[0],s[1],s[2]),r&&o.scale.set(r[0],r[1],r[2]),o.updateMatrix();const c=o.geometry.clone();c.applyMatrix4(o.matrix),o.geometry=c,o.renderOrder=1/0,o.position.set(0,0,0),o.rotation.set(0,0,0),o.scale.set(1,1,1),t.add(o)}return t}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=j(M)),this.add(this.gizmo.rotate=j(k)),this.add(this.gizmo.scale=j(_)),this.add(this.picker.translate=j(E)),this.add(this.picker.rotate=j(T)),this.add(this.picker.scale=j(z)),this.add(this.helper.translate=j(S)),this.add(this.helper.rotate=j(P)),this.add(this.helper.scale=j(H)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const t="local"===("scale"===this.mode?this.space:"local")?this.worldQuaternion:Tn;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let i=0;i<n.length;i++){const e=n[i];let o;if(e.visible=!0,e.rotation.set(0,0,0),e.position.copy(this.worldPosition),o=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),e.scale.set(1,1,1).multiplyScalar(o*this.size/7),"helper"!==e.tag){if(e.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){const n=.99,i=.2,o=0;"X"!==e.name&&"XYZX"!==e.name||Math.abs(En.copy(Hn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Y"!==e.name&&"XYZY"!==e.name||Math.abs(En.copy(jn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Z"!==e.name&&"XYZZ"!==e.name||Math.abs(En.copy(Rn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XY"===e.name&&Math.abs(En.copy(Rn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"YZ"===e.name&&Math.abs(En.copy(Hn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XZ"===e.name&&Math.abs(En.copy(jn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),-1!==e.name.search("X")&&(En.copy(Hn).applyQuaternion(t).dot(this.eye)<o?"fwd"===e.tag?e.visible=!1:e.scale.x*=-1:"bwd"===e.tag&&(e.visible=!1)),-1!==e.name.search("Y")&&(En.copy(jn).applyQuaternion(t).dot(this.eye)<o?"fwd"===e.tag?e.visible=!1:e.scale.y*=-1:"bwd"===e.tag&&(e.visible=!1)),-1!==e.name.search("Z")&&(En.copy(Rn).applyQuaternion(t).dot(this.eye)<o?"fwd"===e.tag?e.visible=!1:e.scale.z*=-1:"bwd"===e.tag&&(e.visible=!1))}else"rotate"===this.mode&&(Pn.copy(t),En.copy(this.eye).applyQuaternion(un.copy(t).invert()),-1!==e.name.search("E")&&e.quaternion.setFromRotationMatrix(kn.lookAt(this.eye,Sn,jn)),"X"===e.name&&(un.setFromAxisAngle(Hn,Math.atan2(-En.y,En.z)),un.multiplyQuaternions(Pn,un),e.quaternion.copy(un)),"Y"===e.name&&(un.setFromAxisAngle(jn,Math.atan2(En.x,En.z)),un.multiplyQuaternions(Pn,un),e.quaternion.copy(un)),"Z"===e.name&&(un.setFromAxisAngle(Rn,Math.atan2(En.y,En.x)),un.multiplyQuaternions(Pn,un),e.quaternion.copy(un)));e.visible=e.visible&&(-1===e.name.indexOf("X")||this.showX),e.visible=e.visible&&(-1===e.name.indexOf("Y")||this.showY),e.visible=e.visible&&(-1===e.name.indexOf("Z")||this.showZ),e.visible=e.visible&&(-1===e.name.indexOf("E")||this.showX&&this.showY&&this.showZ),e.material._opacity=e.material._opacity||e.material.opacity,e.material._color=e.material._color||e.material.color.clone(),e.material.color.copy(e.material._color),e.material.opacity=e.material._opacity,this.enabled?this.axis&&(e.name===this.axis||this.axis.split("").some((function(t){return e.name===t}))?(e.material.opacity=1,e.material.color.lerp(new At(1,1,1),.5)):(e.material.opacity*=.25,e.material.color.lerp(new At(1,1,1),.5))):(e.material.opacity*=.5,e.material.color.lerp(new At(1,1,1),.5))}else e.visible=!1,"AXIS"===e.name?(e.position.copy(this.worldPositionStart),e.visible=!!this.axis,"X"===this.axis&&(un.setFromEuler(Mn.set(0,0,0)),e.quaternion.copy(t).multiply(un),Math.abs(En.copy(Hn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"Y"===this.axis&&(un.setFromEuler(Mn.set(0,0,Math.PI/2)),e.quaternion.copy(t).multiply(un),Math.abs(En.copy(jn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"Z"===this.axis&&(un.setFromEuler(Mn.set(0,Math.PI/2,0)),e.quaternion.copy(t).multiply(un),Math.abs(En.copy(Rn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"XYZE"===this.axis&&(un.setFromEuler(Mn.set(0,Math.PI/2,0)),En.copy(this.rotationAxis),e.quaternion.setFromRotationMatrix(kn.lookAt(Sn,En,jn)),e.quaternion.multiply(un),e.visible=this.dragging),"E"===this.axis&&(e.visible=!1)):"START"===e.name?(e.position.copy(this.worldPositionStart),e.visible=this.dragging):"END"===e.name?(e.position.copy(this.worldPosition),e.visible=this.dragging):"DELTA"===e.name?(e.position.copy(this.worldPositionStart),e.quaternion.copy(this.worldQuaternionStart),ln.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),ln.applyQuaternion(this.worldQuaternionStart.clone().invert()),e.scale.copy(ln),e.visible=this.dragging):(e.quaternion.copy(t),this.dragging?e.position.copy(this.worldPositionStart):e.position.copy(this.worldPosition),this.axis&&(e.visible=-1!==this.axis.search(e.name)))}super.updateMatrixWorld(e)}}Cn.prototype.isTransformControlsGizmo=!0;class Dn extends Ut{constructor(){super(new en(1e5,1e5,2,2),new Vt({visible:!1,wireframe:!0,side:Qt,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(t="local"),In.copy(Hn).applyQuaternion("local"===t?this.worldQuaternion:Tn),Xn.copy(jn).applyQuaternion("local"===t?this.worldQuaternion:Tn),Yn.copy(Rn).applyQuaternion("local"===t?this.worldQuaternion:Tn),En.copy(Xn),this.mode){case"translate":case"scale":switch(this.axis){case"X":En.copy(this.eye).cross(In),_n.copy(In).cross(En);break;case"Y":En.copy(this.eye).cross(Xn),_n.copy(Xn).cross(En);break;case"Z":En.copy(this.eye).cross(Yn),_n.copy(Yn).cross(En);break;case"XY":_n.copy(Yn);break;case"YZ":_n.copy(In);break;case"XZ":En.copy(Yn),_n.copy(Xn);break;case"XYZ":case"E":_n.set(0,0,0)}break;case"rotate":default:_n.set(0,0,0)}0===_n.length()?this.quaternion.copy(this.cameraQuaternion):(zn.lookAt(ln.set(0,0,0),_n,En),this.quaternion.setFromRotationMatrix(zn)),super.updateMatrixWorld(e)}}Dn.prototype.isTransformControlsPlane=!0;var Ln=Object.defineProperty,On=Object.getOwnPropertyDescriptor;"undefined"!=typeof require&&require;const Zn=window.THREE;class An{constructor(){t(this,"renderTime",null),t(this,"renderer",null),t(this,"scene",null),t(this,"camera",null),t(this,"canvas"),t(this,"tanFOV"),t(this,"canvasOldHeight"),t(this,"scenesDirectionHelper"),t(this,"objectControl"),t(this,"scenesControl"),t(this,"raycaster"),t(this,"mouse"),t(this,"objects",[]),t(this,"selectHelper"),t(this,"selectObject"),t(this,"dt")}init(e){this.canvas||(this.canvas=e,this.raycaster=new Zn.Raycaster,this.mouse=new Zn.Vector2,this.renderTime=new Zn.Clock,this.renderer=new Zn.WebGLRenderer({canvas:e,context:e.getContext("webgl2"),alpha:!0,antialias:!0}),this.renderer.setClearColor(11184810),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=Zn.PCFSoftShadowMap,this.scene=new Zn.Scene,this.camera=new Zn.PerspectiveCamera(50,e.clientWidth/e.clientHeight,.01,1e3),this.camera.position.set(0,5,10),this.camera.lookAt(new Zn.Vector3),setTimeout((()=>{this.renderer.setSize(e.offsetWidth,e.clientHeight,!1),this.tanFOV=Math.tan(Math.PI/180*this.camera.fov/2),this.canvasOldHeight=e.clientHeight,this.animate()})),this.scenesControl=new Ct(this.camera,this.canvas),this.scenesControl.addEventListener("change",(()=>{this.animate()})),this.addFloorGrid(),this.objectControl=this.objectSelect(),this.addScenesDirectionHelper(),N.addListener(W.render,(()=>{this.animate()})),N.addListener(W.resize,this.resize,this),N.addListener(W.updateScenesSize,this.resize,this),N.addListener(W.addObject,this.addObject,this),this.addObject(Rt.box),this.addObject(Rt.directionalLight))}addObject(e){let t=Xt.inst.create(e);if(t){if(this.scene.add(t.object),t.helper){this.scene.add(t.helper);var n=t.helper.getObjectByName("picker");void 0!==n&&this.objects.push(n)}this.objects.push(t.object),this.animate()}}addScenesDirectionHelper(){let e=new Lt(this.camera,{dom:this.canvas});e.controls=this.scenesControl,this.scenesDirectionHelper=e,N.addListener(W.update,(()=>{!0===e.animating&&e.update(this.dt)}))}objectSelect(){let e=new $n(this.camera,this.canvas);this.scene.add(e),e.addEventListener("change",(()=>{this.animate()})),e.addEventListener("objectChange",(()=>{F.update((e=>e))})),e.addEventListener("dragging-changed",(e=>{this.scenesControl.enabled=!e.value}));let t=new Zn.Vector2,n=new Zn.Vector2;return N.addListener(W.onPointerDown,(e=>{e.target==this.canvas&&t.set(e.clientX,e.clientY)})),N.addListener(W.onPointerUp,(i=>{var o,a;if(i.target!=this.canvas||!this.objects.length)return;if(n.set(i.clientX,i.clientY),t.distanceTo(n))return;let s=this.getSelectObjectIntersects({x:i.clientX-this.canvas.offsetLeft,y:i.clientY-this.canvas.offsetTop},this.objects);if(s.length>0){let t=s[0].object;if(void 0!==t.userData.object){if((null==(o=this.selectObject)?void 0:o.id)===t.userData.object.id)return;e.attach(t.userData.object),this.selectObject=t.userData.object,"picker"===t.name&&(V.set(t.parent),this.selectHelper=t.parent,e.setMode("translate"))}else{if((null==(a=this.selectObject)?void 0:a.id)===t.id)return;e.attach(t),this.selectObject=t,this.selectHelper=null,V.set(null)}F.set(this.selectObject),U.set(this.selectObject.material),console.log(this.selectObject)}else e.detach(),F.set(null),U.set(null),V.set(null),this.selectHelper=null,this.selectObject=null})),N.addListener(W.onDoubleClick,(e=>{if(e.target!=this.canvas)return;let t=this.getSelectObjectIntersects({x:e.clientX-this.canvas.offsetLeft,y:e.clientY-this.canvas.offsetTop},this.objects);if(t.length>0){let e=t[0].object;this.scenesControl.focus(e)}})),N.addListener(W.onKeyDown,(t=>{switch(t.key){case"Shift":e.setTranslationSnap(1),e.setRotationSnap(Zn.MathUtils.degToRad(15)),e.setScaleSnap(.25);break;case"w":case"W":e.setMode("translate");break;case"e":this.selectHelper||e.setMode("rotate");break;case"r":this.selectHelper||e.setMode("scale");break;case"+":e.setSize(e.size+.1);break;case"-":e.setSize(Math.max(e.size-.1,.1));break;case"X":case"x":e.showX=!e.showX;break;case"y":case"Y":e.showY=!e.showY;break;case"z":case"Z":e.showZ=!e.showZ;break;case" ":e.enabled=!e.enabled}})),N.addListener(W.onKeyUp,(t=>{switch(t.key){case"Shift":e.setTranslationSnap(null),e.setRotationSnap(null),e.setScaleSnap(null)}})),e}addFloorGrid(){var e=new Zn.Group,t=new Zn.GridHelper(30,30,12961221);t.material.color.setHex(12961221),t.material.vertexColors=!1,e.add(t);var n=new Zn.GridHelper(30,6,7829367);n.material.color.setHex(7829367),n.material.depthFunc=Zn.AlwaysDepth,n.material.vertexColors=!1,e.add(n),this.scene.add(e)}getSelectObjectIntersects(e,t){return this.mouse.set(e.x/this.canvas.clientWidth*2-1,-e.y/this.canvas.clientHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObjects(t)}animate(){this.renderer.setViewport(0,0,this.canvas.clientWidth+(this.canvas.width-this.canvas.clientWidth),this.canvas.clientHeight+(this.canvas.height-this.canvas.clientHeight)),this.renderer.render(this.scene,this.camera),this.dt=this.renderTime.getDelta(),this.renderer.autoClear=!1,this.scenesDirectionHelper.render(this.renderer),this.renderer.autoClear=!0,N.emit(W.update,this.dt),this.camera.updateProjectionMatrix()}resize(){this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight,!1),this.camera.aspect=this.canvas.clientWidth/this.canvas.clientHeight,this.camera.fov=360/Math.PI*Math.atan(this.tanFOV*(this.canvas.clientHeight/this.canvasOldHeight)),this.camera.updateProjectionMatrix(),this.animate()}}t(An,"inst"),((e,t,n,i)=>{for(var o,a=i>1?void 0:i?On(t,n):t,s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i?o(t,n,a):o(a))||a);i&&a&&Ln(t,n,a)})([zt],An,"inst",2);const qn=An.inst;function Qn(e){let t;return{c(){t=d("canvas"),f(t,"class","h-full w-full flex-grow select-none")},m(n,i){$(n,t,i),e[1](t)},p:R,i:R,o:R,d(n){n&&x(t),e[1](null)}}}function Bn(e,t,n){let i;return Q((()=>{qn.init(i)})),[i,function(e){O[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Nn extends o{constructor(e){super(),a(this,e,Bn,Qn,s,{})}}function Wn(e){let t,n,i;return{c(){t=d("div"),f(t,"class","hover:bg-yellow-300 transition-colors duration-50 h-full w-2 cursor-col-resize -translate-x-1 absolute left-0 top-0 select-none")},m(o,a){$(o,t,a),e[6](t),n||(i=[w(window,"mouseup",e[3]),w(window,"mousemove",e[2]),w(t,"mousedown",e[1])],n=!0)},p:R,i:R,o:R,d(o){o&&x(t),e[6](null),n=!1,A(i)}}}function Gn(e,t,n){let i=null,o=!1,a=0,s=0,{resizeEvent:r=null}=t,{resizeEventMouseUp:l=null}=t;return Q((()=>{})),e.$$set=e=>{"resizeEvent"in e&&n(4,r=e.resizeEvent),"resizeEventMouseUp"in e&&n(5,l=e.resizeEventMouseUp)},[i,function(e){o=!0,a=e.pageX,s=i.parentElement.clientWidth},function(e){if(o){let t=s+a-e.pageX;(document.documentElement.clientWidth-t<50||document.documentElement.clientWidth-t>document.documentElement.clientWidth-50)&&(t=i.parentElement.clientWidth),n(0,i.parentElement.style.width=`${t}px`,i),r&&r()}},function(e){l&&o&&l(),o=!1},r,l,function(e){O[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Fn extends o{constructor(e){super(),a(this,e,Gn,Wn,s,{resizeEvent:4,resizeEventMouseUp:5})}}const Un=[{title:"文件",child:[{title:"文件",event:()=>{console.log(1)},line:!1,enabled:!1},{title:"导入",event:()=>{console.log(1)},line:!1,enabled:!1}]},{title:"编辑",child:[{title:"拷贝",event:()=>{console.log(1)},line:!1,enabled:!1},{title:"删除",event:()=>{console.log(1)},line:!1,enabled:!1}]},{title:"添加",child:[{title:"组",event:()=>{N.emit(W.addObject,Rt.group)},line:!0,enabled:!1},{title:"正方体",event:()=>{N.emit(W.addObject,Rt.box)},line:!1,enabled:!0},{title:"圆",event:()=>{N.emit(W.addObject,Rt.sphere)},line:!0,enabled:!0},{title:"环境光",event:()=>{N.emit(W.addObject,Rt.ambientLight)},enabled:!1},{title:"平行光",event:()=>{N.emit(W.addObject,Rt.directionalLight)},line:!1,enabled:!0},{title:"半光球",event:()=>{console.log(1)},line:!1},{title:"点光源",event:()=>{console.log(1)},line:!1}]},{title:"帮助",child:[]}];function Vn(e,t,n){const i=e.slice();return i[9]=t[n],i}function Kn(e,t,n){const i=e.slice();return i[9]=t[n],i[13]=n,i}function Jn(e){let t,n,i,o,a,s=e[9].title+"";function r(...t){return e[6](e[13],...t)}return{c(){t=d("div"),n=h(s),i=m(),f(t,"class","hover:bg-gray-300 hover:text-gray-600 inline-block px-3 cursor-pointer text-gray-500 float-left")},m(s,l){$(s,t,l),g(t,n),g(t,i),o||(a=[w(t,"pointerenter",r),w(t,"pointerleave",e[5])],o=!0)},p(t,n){e=t},d(e){e&&x(t),o=!1,A(a)}}}function ei(e){let t,n=e[3][e[2]].child,i=[];for(let o=0;o<n.length;o+=1)i[o]=ni(Vn(e,n,o));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=P()},m(e,n){for(let t=0;t<i.length;t+=1)i[t].m(e,n);$(e,t,n)},p(e,o){if(12&o){let a;for(n=e[3][e[2]].child,a=0;a<n.length;a+=1){const s=Vn(e,n,a);i[a]?i[a].p(s,o):(i[a]=ni(s),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(e){z(i,e),e&&x(t)}}}function ti(e){let t;return{c(){t=d("div"),t.innerHTML="<div></div> \n                        <div></div> \n                    ",f(t,"class","divide-y divide-gray-300")},m(e,n){$(e,t,n)},d(e){e&&x(t)}}}function ni(e){let t,n,i,o,a,s,r,l=e[9].title+"",c=e[9].line&&ti();return{c(){t=d("div"),n=h(l),o=m(),c&&c.c(),a=P(),f(t,"class",i=(e[9].enabled?"hover:bg-pink-800 hover:text-white cursor-pointer ":" cursor-not-allowed  text-gray-300")+" px-2 py-1")},m(i,l){$(i,t,l),g(t,n),$(i,o,l),c&&c.m(i,l),$(i,a,l),s||(r=w(t,"click",(function(){B(e[9].enabled?e[9].event:null)&&(e[9].enabled?e[9].event:null).apply(this,arguments)})),s=!0)},p(o,s){e=o,4&s&&l!==(l=e[9].title+"")&&v(n,l),4&s&&i!==(i=(e[9].enabled?"hover:bg-pink-800 hover:text-white cursor-pointer ":" cursor-not-allowed  text-gray-300")+" px-2 py-1")&&f(t,"class",i),e[9].line?c||(c=ti(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(e){e&&x(t),e&&x(o),c&&c.d(e),e&&x(a),s=!1,r()}}}function ii(e){var t;let n,i,o,a,s,r,l=e[3],c=[];for(let p=0;p<l.length;p+=1)c[p]=Jn(Kn(e,l,p));let u=e[3][e[2]]&&(null==(t=e[3][e[2]].child)?void 0:t.length)&&e[1]&&ei(e);return{c(){n=d("div"),i=d("div");for(let e=0;e<c.length;e+=1)c[e].c();o=m(),a=d("div"),u&&u.c(),f(i,"class","overflow-hidden leading-6"),f(a,"class","w-40 absolute bg-gray-200 transition-transform duration-100 "),f(n,"class","relative select-none ")},m(t,l){$(t,n,l),g(n,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null);g(n,o),g(n,a),u&&u.m(a,null),e[7](a),s||(r=[w(a,"pointerenter",e[8]),w(a,"pointerleave",e[5])],s=!0)},p(e,[t]){var n;if(56&t){let n;for(l=e[3],n=0;n<l.length;n+=1){const o=Kn(e,l,n);c[n]?c[n].p(o,t):(c[n]=Jn(o),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}e[3][e[2]]&&(null==(n=e[3][e[2]].child)?void 0:n.length)&&e[1]?u?u.p(e,t):(u=ei(e),u.c(),u.m(a,null)):u&&(u.d(1),u=null)},i:R,o:R,d(t){t&&x(n),z(c,t),u&&u.d(),e[7](null),s=!1,A(r)}}}function oi(e,t,n){let i,o=!1,a=Un,s=null;function r(e,t){if(n(1,o=!0),n(2,s=t),!a[t].child.length)return;let r=e.target;n(0,i.style.transform=`translateX(${r.offsetLeft}px)`,i)}return[i,o,s,a,r,function(){n(1,o=!1)},(e,t)=>{r(t,e)},function(e){O[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},e=>{n(1,o=!0)}]}class ai extends o{constructor(e){super(),a(this,e,oi,ii,s,{})}}function si(e){let t,n,i,o,a,s,r,l,c,h,w,v,y,b,M;return i=new ai({}),r=new Nn({}),h=new Fn({props:{resizeEventMouseUp:e[0]}}),v=new Pt({}),{c(){t=d("div"),n=d("div"),E(i.$$.fragment),o=m(),a=d("div"),s=d("div"),E(r.$$.fragment),l=m(),c=d("div"),E(h.$$.fragment),w=m(),E(v.$$.fragment),y=m(),b=d("div"),b.innerHTML='<span class="text-xs">0</span>',f(n,"class","flex-none items-center bg-gray-200 align-text-bottom border-b-[1px] border-solid border-gray-300"),f(s,"class","flex-grow bg-gray-100 flex flex-row"),f(c,"class","flex-none bg-gray-200 w-80 relative"),f(a,"class","flex-grow h-4 flex flex-row"),f(b,"class","flex-none bg-gray-200 px-2 h-6 align-text-bottom border-t-[1px] border-solid border-gray-300"),f(t,"class","flex flex-col h-screen text-gray-500 font-sans text-sm")},m(e,u){$(e,t,u),g(t,n),S(i,n,null),g(t,o),g(t,a),g(a,s),S(r,s,null),g(a,l),g(a,c),S(h,c,null),g(c,w),S(v,c,null),g(t,y),g(t,b),M=!0},p:R,i(e){M||(u(i.$$.fragment,e),u(r.$$.fragment,e),u(h.$$.fragment,e),u(v.$$.fragment,e),M=!0)},o(e){p(i.$$.fragment,e),p(r.$$.fragment,e),p(h.$$.fragment,e),p(v.$$.fragment,e),M=!1},d(e){e&&x(t),k(i),k(r),k(h),k(v)}}}function ri(e){return[function(){N.emit(W.updateScenesSize)}]}class li extends o{constructor(e){super(),a(this,e,ri,si,s,{})}}function ci(e){let t,n,i,o;return t=new li({}),{c(){E(t.$$.fragment)},m(a,s){S(t,a,s),n=!0,i||(o=[w(window,"resize",e[0]),w(window,"pointerdown",e[1]),w(window,"pointerup",e[2]),w(window,"pointermove",e[3]),w(window,"dblclick",e[4]),w(window,"keydown",e[5]),w(window,"keyup",e[6])],i=!0)},p:R,i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){k(t,e),i=!1,A(o)}}}function ui(e){return[function(){N.emit(W.resize)},function(e){N.emit(W.onPointerDown,e)},function(e){N.emit(W.onPointerUp,e)},function(e){N.emit(W.onPointerMove,e)},function(e){N.emit(W.onDoubleClick,e)},function(e){N.emit(W.onKeyDown,e)},function(e){N.emit(W.onKeyUp,e)}]}new class extends o{constructor(e){super(),a(this,e,ui,ci,s,{})}}({target:document.getElementById("app")});
