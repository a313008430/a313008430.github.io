var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i));import{e as n,w as i,S as s,i as o,s as a,u as r,g as l,a as c,t as p,b as d,c as h,d as u,f as m,h as f,j as w,k as g,l as y,m as v,n as $,o as b,p as x,q as E,r as M,v as S,x as P,y as T,z as k,A as H,B as z,C as j,D as R,E as X,F as Y,G as I,H as _,I as C,J as L,K as Z}from"./vendor.43809dc7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D=new n.exports.EventEmitter;var O,Q;(Q=O||(O={})).update="update",Q.resize="resize",Q.updateScenesSize="updateScenesSize",Q.render="render",Q.addObject="addObject",Q.onPointerDown="onPointerDown",Q.onPointerUp="onPointerUp",Q.onPointerMove="onPointerMove",Q.onDoubleClick="onDoubleClick",Q.onKeyDown="onKeyDown",Q.onKeyUp="onKeyUp";const A=i(null),W=i(null),B=i(null);function G(e){let t;const n=e[3].default,i=E(n,e,e[2],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,s){i&&i.p&&(!t||4&s)&&r(i,n,e,e[2],t?c(n,e[2],s,null):l(e[2]),null)},i(e){t||(p(i,e),t=!0)},o(e){d(i,e),t=!1},d(e){i&&i.d(e)}}}function N(e){let t,n,i,s,o,a,r,l,c,E=e[0]&&G(e);return{c(){t=h("div"),n=h("div"),i=h("i"),o=u(e[1]),a=m(),E&&E.c(),f(i,"class",s="float-left overflow-hidden block transition-transform duration-300 "+(e[0]?"rotate-90":"rotate-0")),f(n,"class","bg-gray-300 h-6 leading-6 cursor-pointer select-none "),f(t,"class","border-t border-b border-t-gray-400 border-b-gray-300 my-1")},m(s,p){w(s,t,p),g(t,n),g(n,i),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#888888">\r\n    <path d="M0 0h24v24H0V0z" fill="none" />\r\n    <path d="M10 17l5-5-5-5v10z" />\r\n</svg>',g(n,o),g(t,a),E&&E.m(t,null),r=!0,l||(c=y(n,"click",e[4]),l=!0)},p(e,[n]){(!r||1&n&&s!==(s="float-left overflow-hidden block transition-transform duration-300 "+(e[0]?"rotate-90":"rotate-0")))&&f(i,"class",s),(!r||2&n)&&v(o,e[1]),e[0]?E?(E.p(e,n),1&n&&p(E,1)):(E=G(e),E.c(),p(E,1),E.m(t,null)):E&&($(),d(E,1,1,(()=>{E=null})),b())},i(e){r||(p(E),r=!0)},o(e){d(E),r=!1},d(e){e&&x(t),E&&E.d(),l=!1,c()}}}function q(e,t,n){let{$$slots:i={},$$scope:s}=t,{title:o="title"}=t,{open:a=!0}=t;return e.$$set=e=>{"title"in e&&n(1,o=e.title),"open"in e&&n(0,a=e.open),"$$scope"in e&&n(2,s=e.$$scope)},[a,o,s,i,()=>{n(0,a=!a)}]}class F extends s{constructor(e){super(),o(this,e,q,N,a,{title:1,open:0})}}function U(e){let t,n,i,s,o,a,y,$;const b=e[4].default,M=E(b,e,e[3],null);return{c(){t=h("div"),n=h("span"),i=u(e[0]),o=m(),a=h("span"),M&&M.c(),f(n,"title",e[0]),f(n,"class",s="attr-left-title "+e[1]),f(a,"class","flex-grow flex items-center whitespace-nowrap overflow-hidden pl-1"),f(t,"class",y="px-3 flex "+(e[2]?"flex-wrap":""))},m(e,s){w(e,t,s),g(t,n),g(n,i),g(t,o),g(t,a),M&&M.m(a,null),$=!0},p(e,[o]){(!$||1&o)&&v(i,e[0]),(!$||1&o)&&f(n,"title",e[0]),(!$||2&o&&s!==(s="attr-left-title "+e[1]))&&f(n,"class",s),M&&M.p&&(!$||8&o)&&r(M,b,e,e[3],$?c(b,e[3],o,null):l(e[3]),null),(!$||4&o&&y!==(y="px-3 flex "+(e[2]?"flex-wrap":"")))&&f(t,"class",y)},i(e){$||(p(M,e),$=!0)},o(e){d(M,e),$=!1},d(e){e&&x(t),M&&M.d(e)}}}function V(e,t,n){let{$$slots:i={},$$scope:s}=t,{title:o}=t,{titleClassName:a=""}=t,{wrap:r=!1}=t;return e.$$set=e=>{"title"in e&&n(0,o=e.title),"titleClassName"in e&&n(1,a=e.titleClassName),"wrap"in e&&n(2,r=e.wrap),"$$scope"in e&&n(3,s=e.$$scope)},[o,a,r,s,i]}class K extends s{constructor(e){super(),o(this,e,V,U,a,{title:0,titleClassName:1,wrap:2})}}const J=window.THREE.BufferGeometry,ee=window.THREE.Float32BufferAttribute,te=window.THREE.LineSegments,ne=window.THREE.LineBasicMaterial,ie=window.THREE.Matrix3,se=window.THREE.Vector3,oe=new se,ae=new se,re=new ie;class le extends te{constructor(e,t=1,n=16711680){let i=0;const s=e.geometry;if(s&&s.isGeometry)return void console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");s&&s.isBufferGeometry&&(i=s.attributes.normal.count);const o=new J,a=new ee(2*i*3,3);o.setAttribute("position",a),super(o,new ne({color:n,toneMapped:!1})),this.object=e,this.size=t,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0),re.getNormalMatrix(this.object.matrixWorld);const e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");else{if(n&&n.isBufferGeometry){const i=n.attributes.position,s=n.attributes.normal;let o=0;for(let n=0,a=i.count;n<a;n++)oe.set(i.getX(n),i.getY(n),i.getZ(n)).applyMatrix4(e),ae.set(s.getX(n),s.getY(n),s.getZ(n)),ae.applyMatrix3(re).normalize().multiplyScalar(this.size).add(oe),t.setXYZ(o,oe.x,oe.y,oe.z),o+=1,t.setXYZ(o,ae.x,ae.y,ae.z),o+=1}t.needsUpdate=!0}}}function ce(e,t,n){const i=e.slice();return i[9]=t[n],i[10]=t,i[11]=n,i}function pe(e){let t,n;return t=new F({props:{title:"Geometry",open:!1,$$slots:{default:[ve]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};4099&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){P(t,e)}}}function de(e){let t,n=e[0].type+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].type+"")&&v(t,n)},d(e){e&&x(t)}}}function he(e){let t,n=e[0].uuid+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function ue(e){let t,n,i,s;return{c(){t=h("div"),n=h("input"),f(n,"type","text"),f(n,"class","attr-input-r "),f(t,"class","flex-1 flex items-center")},m(o,a){w(o,t,a),g(t,n),R(n,e[0].name),i||(s=y(n,"input",e[6]),i=!0)},p(e,t){1&t&&n.value!==e[0].name&&R(n,e[0].name)},d(e){e&&x(t),i=!1,s()}}}function me(e){let t,n,i=e[1],s=[];for(let a=0;a<i.length;a+=1)s[a]=we(ce(e,i,a));const o=e=>d(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=T()},m(e,i){for(let t=0;t<s.length;t+=1)s[t].m(e,i);w(e,t,i),n=!0},p(e,n){if(2&n){let a;for(i=e[1],a=0;a<i.length;a+=1){const o=ce(e,i,a);s[a]?(s[a].p(o,n),p(s[a],1)):(s[a]=we(o),s[a].c(),p(s[a],1),s[a].m(t.parentNode,t))}for($(),a=i.length;a<s.length;a+=1)o(a);b()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)p(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)d(s[t]);n=!1},d(e){z(s,e),e&&x(t)}}}function fe(e){let t,n,i,s,o;function a(){e[7].call(n,e[10],e[11])}return{c(){t=h("div"),n=h("input"),i=m(),f(n,"type","number"),f(n,"step","1"),f(n,"class","attr-input-r "),f(t,"class","flex-1 flex items-center")},m(r,l){w(r,t,l),g(t,n),R(n,e[9].val),w(r,i,l),s||(o=y(n,"input",a),s=!0)},p(t,i){e=t,2&i&&j(n.value)!==e[9].val&&R(n,e[9].val)},d(e){e&&x(t),e&&x(i),s=!1,o()}}}function we(e){let t,n;return t=new K({props:{title:e[9].key,$$slots:{default:[fe]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};2&n&&(i.title=e[9].key),4098&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){P(t,e)}}}function ge(e){let t,n,i,s,o,a,r,l,c,p,d,y,$,b,E,M,S,P,T,k,H,z,j,R,X,Y,I,_,C,L=e[0].index.count+"",Z=e[0].attributes.position.count+"",D=e[0].attributes.position.itemSize+"",O=e[0].attributes.normal.count+"",Q=e[0].attributes.normal.itemSize+"",A=e[0].attributes.uv.count+"",W=e[0].attributes.uv.itemSize+"";return{c(){t=h("div"),n=h("div"),i=h("div"),i.textContent="index",s=m(),o=u(L),a=m(),r=h("div"),l=h("div"),l.textContent="position",c=m(),p=u(Z),d=u("("),y=u(D),$=u(")"),b=m(),E=h("div"),M=h("div"),M.textContent="normal",S=m(),P=u(O),T=u("("),k=u(Q),H=u(")"),z=m(),j=h("div"),R=h("div"),R.textContent="uv",X=m(),Y=u(A),I=u("("),_=u(W),C=u(")"),f(i,"class","w-1/2 inline-block"),f(l,"class","w-1/2 inline-block"),f(M,"class","w-1/2 inline-block"),f(R,"class","w-1/2 inline-block"),f(t,"class","w-full leading-6")},m(e,h){w(e,t,h),g(t,n),g(n,i),g(n,s),g(n,o),g(t,a),g(t,r),g(r,l),g(r,c),g(r,p),g(r,d),g(r,y),g(r,$),g(t,b),g(t,E),g(E,M),g(E,S),g(E,P),g(E,T),g(E,k),g(E,H),g(t,z),g(t,j),g(j,R),g(j,X),g(j,Y),g(j,I),g(j,_),g(j,C)},p(e,t){1&t&&L!==(L=e[0].index.count+"")&&v(o,L),1&t&&Z!==(Z=e[0].attributes.position.count+"")&&v(p,Z),1&t&&D!==(D=e[0].attributes.position.itemSize+"")&&v(y,D),1&t&&O!==(O=e[0].attributes.normal.count+"")&&v(P,O),1&t&&Q!==(Q=e[0].attributes.normal.itemSize+"")&&v(k,Q),1&t&&A!==(A=e[0].attributes.uv.count+"")&&v(Y,A),1&t&&W!==(W=e[0].attributes.uv.itemSize+"")&&v(_,W)},d(e){e&&x(t)}}}function ye(e){var t;let n,i=(null==(t=e[0].boundingSphere)?void 0:t.radius)+"";return{c(){n=u(i)},m(e,t){w(e,n,t)},p(e,t){var s;1&t&&i!==(i=(null==(s=e[0].boundingSphere)?void 0:s.radius)+"")&&v(n,i)},d(e){e&&x(n)}}}function ve(e){var t;let n,i,s,o,a,r,l,c,u,v,E,T,k,H,z,j,R=["SphereGeometry","BoxGeometry"].includes(null==(t=e[0])?void 0:t.type);n=new K({props:{title:"Type",$$slots:{default:[de]},$$scope:{ctx:e}}}),s=new K({props:{title:"UUID",$$slots:{default:[he]},$$scope:{ctx:e}}}),a=new K({props:{title:"Name",$$slots:{default:[ue]},$$scope:{ctx:e}}});let X=R&&me(e);return c=new K({props:{title:"Attributes",$$slots:{default:[ge]},$$scope:{ctx:e}}}),v=new K({props:{title:"Bounds",$$slots:{default:[ye]},$$scope:{ctx:e}}}),{c(){M(n.$$.fragment),i=m(),M(s.$$.fragment),o=m(),M(a.$$.fragment),r=m(),X&&X.c(),l=m(),M(c.$$.fragment),u=m(),M(v.$$.fragment),E=m(),T=h("div"),k=h("button"),k.textContent="SHOW VERTEX NORMALS",f(k,"class","bg-gray-300 px-4 hover:bg-gray-100 active:bg-gray-50 active:text-gray-800"),f(T,"class","py-4 text-center")},m(t,p){S(n,t,p),w(t,i,p),S(s,t,p),w(t,o,p),S(a,t,p),w(t,r,p),X&&X.m(t,p),w(t,l,p),S(c,t,p),w(t,u,p),S(v,t,p),w(t,E,p),w(t,T,p),g(T,k),H=!0,z||(j=y(k,"click",e[2]),z=!0)},p(e,t){var i;const o={};4097&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o);const r={};4097&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const h={};4097&t&&(h.$$scope={dirty:t,ctx:e}),a.$set(h),1&t&&(R=["SphereGeometry","BoxGeometry"].includes(null==(i=e[0])?void 0:i.type)),R?X?(X.p(e,t),1&t&&p(X,1)):(X=me(e),X.c(),p(X,1),X.m(l.parentNode,l)):X&&($(),d(X,1,1,(()=>{X=null})),b());const u={};4097&t&&(u.$$scope={dirty:t,ctx:e}),c.$set(u);const m={};4097&t&&(m.$$scope={dirty:t,ctx:e}),v.$set(m)},i(e){H||(p(n.$$.fragment,e),p(s.$$.fragment,e),p(a.$$.fragment,e),p(X),p(c.$$.fragment,e),p(v.$$.fragment,e),H=!0)},o(e){d(n.$$.fragment,e),d(s.$$.fragment,e),d(a.$$.fragment,e),d(X),d(c.$$.fragment,e),d(v.$$.fragment,e),H=!1},d(e){P(n,e),e&&x(i),P(s,e),e&&x(o),P(a,e),e&&x(r),X&&X.d(e),e&&x(l),P(c,e),e&&x(u),P(v,e),e&&x(E),e&&x(T),z=!1,j()}}}function $e(e){let t,n,i=e[0]&&pe(e);return{c(){i&&i.c(),t=T()},m(e,s){i&&i.m(e,s),w(e,t,s),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&p(i,1)):(i=pe(e),i.c(),p(i,1),i.m(t.parentNode,t)):i&&($(),d(i,1,1,(()=>{i=null})),b())},i(e){n||(p(i),n=!0)},o(e){d(i),n=!1},d(e){i&&i.d(e),e&&x(t)}}}let be=new Map,xe=null;function Ee(e,t,n){let i;var s;k(e,A,(e=>n(5,i=e)));let o,a,r=[];return H((()=>{xe=null})),e.$$.update=()=>{if(51&e.$$.dirty&&i)switch(n(4,a=i),n(0,o=null==a?void 0:a.geometry),null==o?void 0:o.type){case"SphereGeometry":if("SphereGeometry"==xe)break;if(n(1,r=[]),xe="SphereGeometry",!r.length)for(const e in o.parameters)if(Object.prototype.hasOwnProperty.call(o.parameters,e)){const t=o.parameters[e];switch(e){case"phiStart":case"phiLength":case"thetaStart":case"thetaLength":r.push({key:e,val:THREE.MathUtils.radToDeg(t)});break;case"widthSegments":case"heightSegments":r.push({key:e,val:Math.floor(t)});break;default:r.push({key:e,val:t})}}break;case"BoxGeometry":if("BoxGeometry"==xe)break;if(n(1,r=[]),xe="BoxGeometry",!r.length)for(const e in o.parameters)if(Object.prototype.hasOwnProperty.call(o.parameters,e)){const t=o.parameters[e];r.push({key:e,val:t})}}2&e.$$.dirty&&r&&(r.map((e=>(e.val||(e.val=0),e))),r.length&&function(){if(o){switch(o.dispose(),o.type){case"SphereGeometry":n(4,a.geometry=new THREE.SphereGeometry(r[0].val,r[1].val,r[2].val,THREE.MathUtils.degToRad(r[3].val),THREE.MathUtils.degToRad(r[4].val),THREE.MathUtils.degToRad(r[5].val),THREE.MathUtils.degToRad(r[6].val)),a);break;case"BoxGeometry":n(4,a.geometry=new THREE.BoxGeometry(r[0].val,r[1].val,r[2].val,r[3].val,r[4].val,r[5].val),a)}n(0,o=a.geometry)}D.emit(O.render)}()),24&e.$$.dirty&&(null===n(3,s=be.get(a.id))||void 0===s||s.update())},[o,r,function(){if(a){if(be.has(a.id)){let e=be.get(a.id);e.parent.remove(e),be.delete(a.id)}else{let e=new le(a);a.parent.add(e),be.set(a.id,e)}D.emit(O.render)}},s,a,i,function(){o.name=this.value,n(0,o),n(5,i),n(4,a),n(1,r)},function(e,t){e[t].val=j(this.value),n(1,r),n(5,i),n(4,a),n(0,o)}]}class Me extends s{constructor(e){super(),o(this,e,Ee,$e,a,{})}}function Se(e,t,n){const i=e.slice();return i[22]=t[n],i}function Pe(e){let t,n;return t=new F({props:{title:"Material",open:!0,$$slots:{default:[Re]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};33554495&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){P(t,e)}}}function Te(e){let t,n=e[0].type+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].type+"")&&v(t,n)},d(e){e&&x(t)}}}function ke(e){let t,n=e[0].uuid+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function He(e){let t,n;return t=new K({props:{title:e[22],titleClassName:"overflow-hidden  ",$$slots:{default:[ze]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment)},m(e,i){S(t,e,i),n=!0},p(e,n){const i={};33554463&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){P(t,e)}}}function ze(e){let t,n,i,s,o,a,r,l,c,p,d,v,$,b,E,M,S,P,T,k,H,z,X,C,L,Z,D,O,Q,A,W,B,G,N,q,F,U,V,K,J,ee="name"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","text"),f(t,"class","attr-input-r")},m(s,o){w(s,t,o),R(t,e[0].name),n||(i=y(t,"input",e[10]),n=!0)},p(e,n){1&n&&t.value!==e[0].name&&R(t,e[0].name)},d(e){e&&x(t),n=!1,i()}}}(e),te="color"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","color"),f(t,"class","attr-input-r")},m(s,o){w(s,t,o),R(t,e[1]),n||(i=y(t,"input",e[11]),n=!0)},p(e,n){2&n&&R(t,e[1])},d(e){e&&x(t),n=!1,i()}}}(e),ne="roughness"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(s,o){w(s,t,o),R(t,e[0].roughness),n||(i=y(t,"input",e[12]),n=!0)},p(e,n){1&n&&j(t.value)!==e[0].roughness&&R(t,e[0].roughness)},d(e){e&&x(t),n=!1,i()}}}(e),ie="metalness"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r")},m(s,o){w(s,t,o),R(t,e[0].metalness),n||(i=y(t,"input",e[13]),n=!0)},p(e,n){1&n&&j(t.value)!==e[0].metalness&&R(t,e[0].metalness)},d(e){e&&x(t),n=!1,i()}}}(e),se="emissive"==e[22]&&function(e){let t,n,i,s,o;return{c(){t=h("input"),n=m(),i=h("input"),f(t,"type","color"),f(t,"class","attr-input-r"),f(i,"type","number"),f(i,"step","0.01"),f(i,"class","attr-input-r")},m(a,r){w(a,t,r),R(t,e[2]),w(a,n,r),w(a,i,r),R(i,e[0].emissiveIntensity),s||(o=[y(t,"input",e[14]),y(i,"input",e[15])],s=!0)},p(e,n){4&n&&R(t,e[2]),1&n&&j(i.value)!==e[0].emissiveIntensity&&R(i,e[0].emissiveIntensity)},d(e){e&&x(t),e&&x(n),e&&x(i),s=!1,Y(o)}}}(e),oe="specular"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ae="shininess"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),re="clearcoat"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),le="clearcoatRoughness"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ce="vertexShader"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),pe="vertexColors"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(s,o){w(s,t,o),t.checked=e[0].vertexColors,n||(i=y(t,"change",e[16]),n=!0)},p(e,n){1&n&&(t.checked=e[0].vertexColors)},d(e){e&&x(t),n=!1,i()}}}(e),de="vertexTangents"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),he="depthPacking"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ue="skinning"==e[22]&&function(e){let t,n,i;return{c(){t=h("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(s,o){w(s,t,o),t.checked=e[0].skinning,n||(i=y(t,"change",e[17]),n=!0)},p(e,n){1&n&&(t.checked=e[0].skinning)},d(e){e&&x(t),n=!1,i()}}}(e),me="map"==e[22]&&function(e){let t,n,i,s,o,a,r;return{c(){var a,r;t=h("input"),n=m(),i=h("div"),s=h("img"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r"),_(s.src,o=null==(r=null==(a=e[4])?void 0:a.image)?void 0:r.src)||f(s,"src",o),f(s,"class","w-10 h-4"),f(s,"alt",""),f(i,"class","bg-gray-300 ml-1")},m(o,l){w(o,t,l),t.checked=e[3],w(o,n,l),w(o,i,l),g(i,s),a||(r=[y(t,"change",e[18]),y(i,"click",e[19])],a=!0)},p(e,n){var i,a;8&n&&(t.checked=e[3]),16&n&&!_(s.src,o=null==(a=null==(i=e[4])?void 0:i.image)?void 0:a.src)&&f(s,"src",o)},d(e){e&&x(t),e&&x(n),e&&x(i),a=!1,Y(r)}}}(e),fe="matcap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),we="alphaMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ge="bumpMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ye="normalMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ve="clearcoatNormalMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),$e="displacementMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),be="roughnessMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),xe="metalnessMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Ee="specularMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Me="envMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Se="lightMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Pe="aoMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Te="emissiveMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ke="gradientMap"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),He="side"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),ze="size"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),je="sizeAttenuation"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Re="flatShading"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Xe="blending"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Ye="opacity"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Ie="transparent"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),_e="alphaTest"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Ce="depthTest"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Le="depthWrite"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e),Ze="wireframe"==e[22]&&function(e){let t,n=e[22]+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p:I,d(e){e&&x(t)}}}(e);return{c(){ee&&ee.c(),t=m(),te&&te.c(),n=m(),ne&&ne.c(),i=m(),ie&&ie.c(),s=m(),se&&se.c(),o=m(),oe&&oe.c(),a=m(),ae&&ae.c(),r=m(),re&&re.c(),l=m(),le&&le.c(),c=m(),ce&&ce.c(),p=m(),pe&&pe.c(),d=m(),de&&de.c(),v=m(),he&&he.c(),$=m(),ue&&ue.c(),b=m(),me&&me.c(),E=m(),fe&&fe.c(),M=m(),we&&we.c(),S=m(),ge&&ge.c(),P=m(),ye&&ye.c(),T=m(),ve&&ve.c(),k=m(),$e&&$e.c(),H=m(),be&&be.c(),z=m(),xe&&xe.c(),X=m(),Ee&&Ee.c(),C=m(),Me&&Me.c(),L=m(),Se&&Se.c(),Z=m(),Pe&&Pe.c(),D=m(),Te&&Te.c(),O=m(),ke&&ke.c(),Q=m(),He&&He.c(),A=m(),ze&&ze.c(),W=m(),je&&je.c(),B=m(),Re&&Re.c(),G=m(),Xe&&Xe.c(),N=m(),Ye&&Ye.c(),q=m(),Ie&&Ie.c(),F=m(),_e&&_e.c(),U=m(),Ce&&Ce.c(),V=m(),Le&&Le.c(),K=m(),Ze&&Ze.c(),J=m()},m(e,h){ee&&ee.m(e,h),w(e,t,h),te&&te.m(e,h),w(e,n,h),ne&&ne.m(e,h),w(e,i,h),ie&&ie.m(e,h),w(e,s,h),se&&se.m(e,h),w(e,o,h),oe&&oe.m(e,h),w(e,a,h),ae&&ae.m(e,h),w(e,r,h),re&&re.m(e,h),w(e,l,h),le&&le.m(e,h),w(e,c,h),ce&&ce.m(e,h),w(e,p,h),pe&&pe.m(e,h),w(e,d,h),de&&de.m(e,h),w(e,v,h),he&&he.m(e,h),w(e,$,h),ue&&ue.m(e,h),w(e,b,h),me&&me.m(e,h),w(e,E,h),fe&&fe.m(e,h),w(e,M,h),we&&we.m(e,h),w(e,S,h),ge&&ge.m(e,h),w(e,P,h),ye&&ye.m(e,h),w(e,T,h),ve&&ve.m(e,h),w(e,k,h),$e&&$e.m(e,h),w(e,H,h),be&&be.m(e,h),w(e,z,h),xe&&xe.m(e,h),w(e,X,h),Ee&&Ee.m(e,h),w(e,C,h),Me&&Me.m(e,h),w(e,L,h),Se&&Se.m(e,h),w(e,Z,h),Pe&&Pe.m(e,h),w(e,D,h),Te&&Te.m(e,h),w(e,O,h),ke&&ke.m(e,h),w(e,Q,h),He&&He.m(e,h),w(e,A,h),ze&&ze.m(e,h),w(e,W,h),je&&je.m(e,h),w(e,B,h),Re&&Re.m(e,h),w(e,G,h),Xe&&Xe.m(e,h),w(e,N,h),Ye&&Ye.m(e,h),w(e,q,h),Ie&&Ie.m(e,h),w(e,F,h),_e&&_e.m(e,h),w(e,U,h),Ce&&Ce.m(e,h),w(e,V,h),Le&&Le.m(e,h),w(e,K,h),Ze&&Ze.m(e,h),w(e,J,h)},p(e,t){"name"==e[22]&&ee.p(e,t),"color"==e[22]&&te.p(e,t),"roughness"==e[22]&&ne.p(e,t),"metalness"==e[22]&&ie.p(e,t),"emissive"==e[22]&&se.p(e,t),"specular"==e[22]&&oe.p(e,t),"shininess"==e[22]&&ae.p(e,t),"clearcoat"==e[22]&&re.p(e,t),"clearcoatRoughness"==e[22]&&le.p(e,t),"vertexShader"==e[22]&&ce.p(e,t),"vertexColors"==e[22]&&pe.p(e,t),"vertexTangents"==e[22]&&de.p(e,t),"depthPacking"==e[22]&&he.p(e,t),"skinning"==e[22]&&ue.p(e,t),"map"==e[22]&&me.p(e,t),"matcap"==e[22]&&fe.p(e,t),"alphaMap"==e[22]&&we.p(e,t),"bumpMap"==e[22]&&ge.p(e,t),"normalMap"==e[22]&&ye.p(e,t),"clearcoatNormalMap"==e[22]&&ve.p(e,t),"displacementMap"==e[22]&&$e.p(e,t),"roughnessMap"==e[22]&&be.p(e,t),"metalnessMap"==e[22]&&xe.p(e,t),"specularMap"==e[22]&&Ee.p(e,t),"envMap"==e[22]&&Me.p(e,t),"lightMap"==e[22]&&Se.p(e,t),"aoMap"==e[22]&&Pe.p(e,t),"emissiveMap"==e[22]&&Te.p(e,t),"gradientMap"==e[22]&&ke.p(e,t),"side"==e[22]&&He.p(e,t),"size"==e[22]&&ze.p(e,t),"sizeAttenuation"==e[22]&&je.p(e,t),"flatShading"==e[22]&&Re.p(e,t),"blending"==e[22]&&Xe.p(e,t),"opacity"==e[22]&&Ye.p(e,t),"transparent"==e[22]&&Ie.p(e,t),"alphaTest"==e[22]&&_e.p(e,t),"depthTest"==e[22]&&Ce.p(e,t),"depthWrite"==e[22]&&Le.p(e,t),"wireframe"==e[22]&&Ze.p(e,t)},d(e){ee&&ee.d(e),e&&x(t),te&&te.d(e),e&&x(n),ne&&ne.d(e),e&&x(i),ie&&ie.d(e),e&&x(s),se&&se.d(e),e&&x(o),oe&&oe.d(e),e&&x(a),ae&&ae.d(e),e&&x(r),re&&re.d(e),e&&x(l),le&&le.d(e),e&&x(c),ce&&ce.d(e),e&&x(p),pe&&pe.d(e),e&&x(d),de&&de.d(e),e&&x(v),he&&he.d(e),e&&x($),ue&&ue.d(e),e&&x(b),me&&me.d(e),e&&x(E),fe&&fe.d(e),e&&x(M),we&&we.d(e),e&&x(S),ge&&ge.d(e),e&&x(P),ye&&ye.d(e),e&&x(T),ve&&ve.d(e),e&&x(k),$e&&$e.d(e),e&&x(H),be&&be.d(e),e&&x(z),xe&&xe.d(e),e&&x(X),Ee&&Ee.d(e),e&&x(C),Me&&Me.d(e),e&&x(L),Se&&Se.d(e),e&&x(Z),Pe&&Pe.d(e),e&&x(D),Te&&Te.d(e),e&&x(O),ke&&ke.d(e),e&&x(Q),He&&He.d(e),e&&x(A),ze&&ze.d(e),e&&x(W),je&&je.d(e),e&&x(B),Re&&Re.d(e),e&&x(G),Xe&&Xe.d(e),e&&x(N),Ye&&Ye.d(e),e&&x(q),Ie&&Ie.d(e),e&&x(F),_e&&_e.d(e),e&&x(U),Ce&&Ce.d(e),e&&x(V),Le&&Le.d(e),e&&x(K),Ze&&Ze.d(e),e&&x(J)}}}function je(e){let t,n,i=Object.prototype.hasOwnProperty.call(e[0],e[22]),s=i&&He(e);return{c(){s&&s.c(),t=T()},m(e,i){s&&s.m(e,i),w(e,t,i),n=!0},p(e,n){1&n&&(i=Object.prototype.hasOwnProperty.call(e[0],e[22])),i?s?(s.p(e,n),1&n&&p(s,1)):(s=He(e),s.c(),p(s,1),s.m(t.parentNode,t)):s&&($(),d(s,1,1,(()=>{s=null})),b())},i(e){n||(p(s),n=!0)},o(e){d(s),n=!1},d(e){s&&s.d(e),e&&x(t)}}}function Re(e){let t,n,i,s,o,a,r,l,c,u;i=new K({props:{title:"Type",$$slots:{default:[Te]},$$scope:{ctx:e}}}),o=new K({props:{title:"UUID",$$slots:{default:[ke]},$$scope:{ctx:e}}});let g=Ie,v=[];for(let p=0;p<g.length;p+=1)v[p]=je(Se(e,g,p));const E=e=>d(v[e],1,1,(()=>{v[e]=null}));return{c(){t=h("input"),n=m(),M(i.$$.fragment),s=m(),M(o.$$.fragment),a=m();for(let e=0;e<v.length;e+=1)v[e].c();r=T(),f(t,"type","file"),f(t,"class","hidden"),f(t,"name",""),f(t,"id","")},m(p,d){w(p,t,d),e[9](t),w(p,n,d),S(i,p,d),w(p,s,d),S(o,p,d),w(p,a,d);for(let e=0;e<v.length;e+=1)v[e].m(p,d);w(p,r,d),l=!0,c||(u=y(t,"change",e[7]),c=!0)},p(e,t){const n={};33554433&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const s={};if(33554433&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s),95&t){let n;for(g=Ie,n=0;n<g.length;n+=1){const i=Se(e,g,n);v[n]?(v[n].p(i,t),p(v[n],1)):(v[n]=je(i),v[n].c(),p(v[n],1),v[n].m(r.parentNode,r))}for($(),n=g.length;n<v.length;n+=1)E(n);b()}},i(e){if(!l){p(i.$$.fragment,e),p(o.$$.fragment,e);for(let e=0;e<g.length;e+=1)p(v[e]);l=!0}},o(e){d(i.$$.fragment,e),d(o.$$.fragment,e),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)d(v[t]);l=!1},d(l){l&&x(t),e[9](null),l&&x(n),P(i,l),l&&x(s),P(o,l),l&&x(a),z(v,l),l&&x(r),c=!1,u()}}}function Xe(e){let t,n,i=e[0]&&Pe(e);return{c(){i&&i.c(),t=T()},m(e,s){i&&i.m(e,s),w(e,t,s),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&p(i,1)):(i=Pe(e),i.c(),p(i,1),i.m(t.parentNode,t)):i&&($(),d(i,1,1,(()=>{i=null})),b())},i(e){n||(p(i),n=!0)},o(e){d(i),n=!1},d(e){i&&i.d(e),e&&x(t)}}}let Ye=null;THREE.LineBasicMaterial,THREE.LineDashedMaterial,THREE.MeshBasicMaterial,THREE.MeshDepthMaterial,THREE.MeshNormalMaterial,THREE.MeshLambertMaterial,THREE.MeshMatcapMaterial,THREE.MeshPhongMaterial,THREE.MeshToonMaterial,THREE.MeshStandardMaterial,THREE.MeshPhysicalMaterial,THREE.RawShaderMaterial,THREE.ShaderMaterial,THREE.ShadowMaterial,THREE.SpriteMaterial,THREE.PointsMaterial;const Ie=["name","color","roughness","metalness","emissive","specular","shininess","clearcoat","clearcoatRoughness","vertexShader","vertexColors","vertexTangents","depthPacking","skinning","map","matcap","alphaMap","bumpMap","normalMap","clearcoatNormalMap","displacementMap","roughnessMap","metalnessMap","specularMap","envMap","lightMap","aoMap","emissiveMap","gradientMap","side","size","sizeAttenuation","flatShading","blending","opacity","transparent","alphaTest","depthTest","depthWrite","wireframe"];function _e(e,t,n){let i,s,o,a;k(e,W,(e=>n(8,i=e)));let r,l,c,p=!1;function d(e){r.click(),c=e}return e.$$.update=()=>{287&e.$$.dirty&&i&&(n(0,s=i),Ye===(null==s?void 0:s.id)?(s.color.setStyle(o),s.emissive.setStyle(a)):(n(4,l=null),n(3,p=!1)),Ye=s.id,n(1,o="#"+(null==s?void 0:s.color.getHexString())),n(2,a="#"+(null==s?void 0:s.emissive.getHexString())),p?n(0,s.map=l||null,s):s.map&&!l?(n(4,l=s.map),n(3,p=!0)):n(0,s.map=null,s),n(0,s.needsUpdate=!0,s),D.emit(O.render),console.log(s,"material"))},[s,o,a,p,l,r,d,function(e){let t=e.target.files[0];(null==t?void 0:t.type.match("image.*"))&&(new THREE.TextureLoader).load(URL.createObjectURL(t),(e=>{c&&c(e)}))},i,function(e){X[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},function(){s.name=this.value,n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){o=this.value,n(1,o),n(8,i),n(0,s),n(2,a),n(3,p),n(4,l)},function(){s.roughness=j(this.value),n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){s.metalness=j(this.value),n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){a=this.value,n(2,a),n(8,i),n(0,s),n(1,o),n(3,p),n(4,l)},function(){s.emissiveIntensity=j(this.value),n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){s.vertexColors=this.checked,n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){s.skinning=this.checked,n(0,s),n(8,i),n(1,o),n(2,a),n(3,p),n(4,l)},function(){p=this.checked,n(3,p),n(8,i),n(0,s),n(1,o),n(2,a),n(4,l)},()=>{d((e=>n(4,l=e)))}]}class Ce extends s{constructor(e){super(),o(this,e,_e,Xe,a,{})}}function Le(e){let t,n,i,s,o,a,r,l,c,h,u,f,g,y,v,E,k,H,z,j,R,X,Y;t=new K({props:{title:"Type",$$slots:{default:[Ze]},$$scope:{ctx:e}}}),i=new K({props:{title:"UUID",$$slots:{default:[De]},$$scope:{ctx:e}}}),o=new K({props:{title:"Name",$$slots:{default:[Oe]},$$scope:{ctx:e}}}),r=new F({props:{title:"Transform",$$slots:{default:[Ge]},$$scope:{ctx:e}}}),c=new K({props:{title:"Visible",$$slots:{default:[Ne]},$$scope:{ctx:e}}}),u=new K({props:{title:"Frustum Cull",titleClassName:"leading-4",$$slots:{default:[qe]},$$scope:{ctx:e}}}),g=new K({props:{title:"Shadow",$$slots:{default:[Ue]},$$scope:{ctx:e}}});let I=e[1]&&Ve(e);E=new K({props:{title:"RenderOrder",$$slots:{default:[it]},$$scope:{ctx:e}}}),H=new Me({}),j=new Ce({});return{c(){M(t.$$.fragment),n=m(),M(i.$$.fragment),s=m(),M(o.$$.fragment),a=m(),M(r.$$.fragment),l=m(),M(c.$$.fragment),h=m(),M(u.$$.fragment),f=m(),M(g.$$.fragment),y=m(),I&&I.c(),v=m(),M(E.$$.fragment),k=m(),M(H.$$.fragment),z=m(),M(j.$$.fragment),R=m(),X=T()},m(e,p){S(t,e,p),w(e,n,p),S(i,e,p),w(e,s,p),S(o,e,p),w(e,a,p),S(r,e,p),w(e,l,p),S(c,e,p),w(e,h,p),S(u,e,p),w(e,f,p),S(g,e,p),w(e,y,p),I&&I.m(e,p),w(e,v,p),S(E,e,p),w(e,k,p),S(H,e,p),w(e,z,p),S(j,e,p),w(e,R,p),w(e,X,p),Y=!0},p(e,n){const s={};33554433&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const a={};33554433&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const l={};33554433&n&&(l.$$scope={dirty:n,ctx:e}),o.$set(l);const h={};33554437&n&&(h.$$scope={dirty:n,ctx:e}),r.$set(h);const m={};33554433&n&&(m.$$scope={dirty:n,ctx:e}),c.$set(m);const f={};33554433&n&&(f.$$scope={dirty:n,ctx:e}),u.$set(f);const w={};33554433&n&&(w.$$scope={dirty:n,ctx:e}),g.$set(w),e[1]?I?(I.p(e,n),2&n&&p(I,1)):(I=Ve(e),I.c(),p(I,1),I.m(v.parentNode,v)):I&&($(),d(I,1,1,(()=>{I=null})),b());const y={};33554433&n&&(y.$$scope={dirty:n,ctx:e}),E.$set(y)},i(e){Y||(p(t.$$.fragment,e),p(i.$$.fragment,e),p(o.$$.fragment,e),p(r.$$.fragment,e),p(c.$$.fragment,e),p(u.$$.fragment,e),p(g.$$.fragment,e),p(I),p(E.$$.fragment,e),p(H.$$.fragment,e),p(j.$$.fragment,e),Y=!0)},o(e){d(t.$$.fragment,e),d(i.$$.fragment,e),d(o.$$.fragment,e),d(r.$$.fragment,e),d(c.$$.fragment,e),d(u.$$.fragment,e),d(g.$$.fragment,e),d(I),d(E.$$.fragment,e),d(H.$$.fragment,e),d(j.$$.fragment,e),Y=!1},d(e){P(t,e),e&&x(n),P(i,e),e&&x(s),P(o,e),e&&x(a),P(r,e),e&&x(l),P(c,e),e&&x(h),P(u,e),e&&x(f),P(g,e),e&&x(y),I&&I.d(e),e&&x(v),P(E,e),e&&x(k),P(H,e),e&&x(z),P(j,e),e&&x(R),e&&x(X)}}}function Ze(e){let t,n=e[0].type+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].type+"")&&v(t,n)},d(e){e&&x(t)}}}function De(e){let t,n=e[0].uuid+"";return{c(){t=u(n)},m(e,n){w(e,t,n)},p(e,i){1&i&&n!==(n=e[0].uuid+"")&&v(t,n)},d(e){e&&x(t)}}}function Oe(e){let t,n,i;return{c(){t=h("div"),n=h("input"),f(n,"type","text"),f(n,"class","attr-input-r "),n.value=i=e[0].name,f(t,"class","flex-1 flex items-center")},m(e,i){w(e,t,i),g(t,n)},p(e,t){1&t&&i!==(i=e[0].name)&&n.value!==i&&(n.value=i)},d(e){e&&x(t)}}}function Qe(e){let t,n,i,s,o,a,r,l,c,p,d,u,v,$,b,E;return{c(){t=h("div"),n=h("span"),n.textContent="x",i=m(),s=h("input"),o=m(),a=h("div"),r=h("span"),r.textContent="y",l=m(),c=h("input"),p=m(),d=h("div"),u=h("span"),u.textContent="z",v=m(),$=h("input"),f(n,"class","px-1"),f(s,"type","number"),f(s,"step","0.1"),f(s,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(a,"class","flex-1 flex items-center"),f(u,"class","px-1"),f($,"type","number"),f($,"step","0.1"),f($,"class","attr-input-r "),f(d,"class","flex-1 flex items-center")},m(h,m){w(h,t,m),g(t,n),g(t,i),g(t,s),R(s,e[0].position.x),w(h,o,m),w(h,a,m),g(a,r),g(a,l),g(a,c),R(c,e[0].position.y),w(h,p,m),w(h,d,m),g(d,u),g(d,v),g(d,$),R($,e[0].position.z),b||(E=[y(s,"input",e[6]),y(c,"input",e[7]),y($,"input",e[8])],b=!0)},p(e,t){1&t&&j(s.value)!==e[0].position.x&&R(s,e[0].position.x),1&t&&j(c.value)!==e[0].position.y&&R(c,e[0].position.y),1&t&&j($.value)!==e[0].position.z&&R($,e[0].position.z)},d(e){e&&x(t),e&&x(o),e&&x(a),e&&x(p),e&&x(d),b=!1,Y(E)}}}function Ae(e){let t,n,i,s;return t=new K({props:{title:"Rotation",$$slots:{default:[We]},$$scope:{ctx:e}}}),i=new K({props:{title:"Scale",$$slots:{default:[Be]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment),n=m(),M(i.$$.fragment)},m(e,o){S(t,e,o),w(e,n,o),S(i,e,o),s=!0},p(e,n){const s={};33554433&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};33554433&n&&(o.$$scope={dirty:n,ctx:e}),i.$set(o)},i(e){s||(p(t.$$.fragment,e),p(i.$$.fragment,e),s=!0)},o(e){d(t.$$.fragment,e),d(i.$$.fragment,e),s=!1},d(e){P(t,e),e&&x(n),P(i,e)}}}function We(e){let t,n,i,s,o,a,r,l,c,p,d,u,v,$,b,E;return{c(){t=h("div"),n=h("span"),n.textContent="x",i=m(),s=h("input"),o=m(),a=h("div"),r=h("span"),r.textContent="y",l=m(),c=h("input"),p=m(),d=h("div"),u=h("span"),u.textContent="z",v=m(),$=h("input"),f(n,"class","px-1"),f(s,"type","number"),f(s,"step","0.1"),f(s,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(a,"class","flex-1 flex items-center"),f(u,"class","px-1"),f($,"type","number"),f($,"step","0.1"),f($,"class","attr-input-r "),f(d,"class","flex-1 flex items-center")},m(h,m){w(h,t,m),g(t,n),g(t,i),g(t,s),R(s,e[0].rotation.x),w(h,o,m),w(h,a,m),g(a,r),g(a,l),g(a,c),R(c,e[0].rotation.y),w(h,p,m),w(h,d,m),g(d,u),g(d,v),g(d,$),R($,e[0].rotation.z),b||(E=[y(s,"input",e[9]),y(c,"input",e[10]),y($,"input",e[11])],b=!0)},p(e,t){1&t&&j(s.value)!==e[0].rotation.x&&R(s,e[0].rotation.x),1&t&&j(c.value)!==e[0].rotation.y&&R(c,e[0].rotation.y),1&t&&j($.value)!==e[0].rotation.z&&R($,e[0].rotation.z)},d(e){e&&x(t),e&&x(o),e&&x(a),e&&x(p),e&&x(d),b=!1,Y(E)}}}function Be(e){let t,n,i,s,o,a,r,l,c,p,d,u,v,$,b,E;return{c(){t=h("div"),n=h("span"),n.textContent="x",i=m(),s=h("input"),o=m(),a=h("div"),r=h("span"),r.textContent="y",l=m(),c=h("input"),p=m(),d=h("div"),u=h("span"),u.textContent="z",v=m(),$=h("input"),f(n,"class","px-1"),f(s,"type","number"),f(s,"step","0.1"),f(s,"class","attr-input-r "),f(t,"class","flex-1 flex items-center"),f(r,"class","px-1"),f(c,"type","number"),f(c,"step","0.1"),f(c,"class","attr-input-r "),f(a,"class","flex-1 flex items-center"),f(u,"class","px-1"),f($,"type","number"),f($,"step","0.1"),f($,"class","attr-input-r "),f(d,"class","flex-1 flex items-center")},m(h,m){w(h,t,m),g(t,n),g(t,i),g(t,s),R(s,e[0].scale.x),w(h,o,m),w(h,a,m),g(a,r),g(a,l),g(a,c),R(c,e[0].scale.y),w(h,p,m),w(h,d,m),g(d,u),g(d,v),g(d,$),R($,e[0].scale.z),b||(E=[y(s,"input",e[12]),y(c,"input",e[13]),y($,"input",e[14])],b=!0)},p(e,t){1&t&&j(s.value)!==e[0].scale.x&&R(s,e[0].scale.x),1&t&&j(c.value)!==e[0].scale.y&&R(c,e[0].scale.y),1&t&&j($.value)!==e[0].scale.z&&R($,e[0].scale.z)},d(e){e&&x(t),e&&x(o),e&&x(a),e&&x(p),e&&x(d),b=!1,Y(E)}}}function Ge(e){let t,n,i,s;t=new K({props:{title:"Position",$$slots:{default:[Qe]},$$scope:{ctx:e}}});let o=null==e[2]&&Ae(e);return{c(){M(t.$$.fragment),n=m(),o&&o.c(),i=T()},m(e,a){S(t,e,a),w(e,n,a),o&&o.m(e,a),w(e,i,a),s=!0},p(e,n){const s={};33554433&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),null==e[2]?o?(o.p(e,n),4&n&&p(o,1)):(o=Ae(e),o.c(),p(o,1),o.m(i.parentNode,i)):o&&($(),d(o,1,1,(()=>{o=null})),b())},i(e){s||(p(t.$$.fragment,e),p(o),s=!0)},o(e){d(t.$$.fragment,e),d(o),s=!1},d(e){P(t,e),e&&x(n),o&&o.d(e),e&&x(i)}}}function Ne(e){let t,n,i;return{c(){t=h("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(s,o){w(s,t,o),t.checked=e[0].visible,n||(i=y(t,"change",e[15]),n=!0)},p(e,n){1&n&&(t.checked=e[0].visible)},d(e){e&&x(t),n=!1,i()}}}function qe(e){let t,n,i;return{c(){t=h("input"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r")},m(s,o){w(s,t,o),t.checked=e[0].frustumCulled,n||(i=y(t,"change",e[16]),n=!0)},p(e,n){1&n&&(t.checked=e[0].frustumCulled)},d(e){e&&x(t),n=!1,i()}}}function Fe(e){let t,n,i,s,o;return{c(){t=h("input"),n=m(),i=h("label"),i.textContent="receive",f(t,"id","receive"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r"),f(i,"class","px-1 select-none"),f(i,"for","receive")},m(a,r){w(a,t,r),t.checked=e[0].receiveShadow,w(a,n,r),w(a,i,r),s||(o=y(t,"change",e[18]),s=!0)},p(e,n){1&n&&(t.checked=e[0].receiveShadow)},d(e){e&&x(t),e&&x(n),e&&x(i),s=!1,o()}}}function Ue(e){let t,n,i,s,o,a,r,l="Mesh"==e[0].type&&Fe(e);return{c(){t=h("input"),n=m(),i=h("label"),i.textContent="cost",s=m(),l&&l.c(),o=T(),f(t,"id","cost"),f(t,"type","checkbox"),f(t,"class","attr-input-checkbox-r"),f(i,"class","px-1 select-none"),f(i,"for","cost")},m(c,p){w(c,t,p),t.checked=e[0].castShadow,w(c,n,p),w(c,i,p),w(c,s,p),l&&l.m(c,p),w(c,o,p),a||(r=y(t,"change",e[17]),a=!0)},p(e,n){1&n&&(t.checked=e[0].castShadow),"Mesh"==e[0].type?l?l.p(e,n):(l=Fe(e),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(e){e&&x(t),e&&x(n),e&&x(i),e&&x(s),l&&l.d(e),e&&x(o),a=!1,r()}}}function Ve(e){let t,n,i,s,o,a,r,l,c,h;return t=new K({props:{title:"Intensity",$$slots:{default:[Ke]},$$scope:{ctx:e}}}),i=new K({props:{title:"Color",$$slots:{default:[Je]},$$scope:{ctx:e}}}),o=new K({props:{title:"Shadow Bias",$$slots:{default:[et]},$$scope:{ctx:e}}}),r=new K({props:{title:"Shadow Normal Bias",$$slots:{default:[tt]},$$scope:{ctx:e}}}),c=new K({props:{title:"Shadow Radius",$$slots:{default:[nt]},$$scope:{ctx:e}}}),{c(){M(t.$$.fragment),n=m(),M(i.$$.fragment),s=m(),M(o.$$.fragment),a=m(),M(r.$$.fragment),l=m(),M(c.$$.fragment)},m(e,p){S(t,e,p),w(e,n,p),S(i,e,p),w(e,s,p),S(o,e,p),w(e,a,p),S(r,e,p),w(e,l,p),S(c,e,p),h=!0},p(e,n){const s={};33554434&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const a={};33554440&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const l={};33554434&n&&(l.$$scope={dirty:n,ctx:e}),o.$set(l);const p={};33554434&n&&(p.$$scope={dirty:n,ctx:e}),r.$set(p);const d={};33554434&n&&(d.$$scope={dirty:n,ctx:e}),c.$set(d)},i(e){h||(p(t.$$.fragment,e),p(i.$$.fragment,e),p(o.$$.fragment,e),p(r.$$.fragment,e),p(c.$$.fragment,e),h=!0)},o(e){d(t.$$.fragment,e),d(i.$$.fragment,e),d(o.$$.fragment,e),d(r.$$.fragment,e),d(c.$$.fragment,e),h=!1},d(e){P(t,e),e&&x(n),P(i,e),e&&x(s),P(o,e),e&&x(a),P(r,e),e&&x(l),P(c,e)}}}function Ke(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.1"),f(t,"class","attr-input-r ")},m(s,o){w(s,t,o),R(t,e[1].intensity),n||(i=y(t,"input",e[19]),n=!0)},p(e,n){2&n&&j(t.value)!==e[1].intensity&&R(t,e[1].intensity)},d(e){e&&x(t),n=!1,i()}}}function Je(e){let t,n,i;return{c(){t=h("input"),f(t,"type","color"),f(t,"class","attr-input-r ")},m(s,o){w(s,t,o),R(t,e[3]),n||(i=y(t,"input",e[20]),n=!0)},p(e,n){8&n&&R(t,e[3])},d(e){e&&x(t),n=!1,i()}}}function et(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.0001"),f(t,"class","attr-input-r")},m(s,o){w(s,t,o),R(t,e[1].shadow.bias),n||(i=y(t,"input",e[21]),n=!0)},p(e,n){2&n&&j(t.value)!==e[1].shadow.bias&&R(t,e[1].shadow.bias)},d(e){e&&x(t),n=!1,i()}}}function tt(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.1"),f(t,"class","attr-input-r ")},m(s,o){w(s,t,o),R(t,e[1].shadow.normalBias),n||(i=y(t,"input",e[22]),n=!0)},p(e,n){2&n&&j(t.value)!==e[1].shadow.normalBias&&R(t,e[1].shadow.normalBias)},d(e){e&&x(t),n=!1,i()}}}function nt(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"step","0.01"),f(t,"class","attr-input-r ")},m(s,o){w(s,t,o),R(t,e[1].shadow.radius),n||(i=y(t,"input",e[23]),n=!0)},p(e,n){2&n&&j(t.value)!==e[1].shadow.radius&&R(t,e[1].shadow.radius)},d(e){e&&x(t),n=!1,i()}}}function it(e){let t,n,i;return{c(){t=h("input"),f(t,"type","number"),f(t,"class","attr-input-r ")},m(s,o){w(s,t,o),R(t,e[0].renderOrder),n||(i=y(t,"input",e[24]),n=!0)},p(e,n){1&n&&j(t.value)!==e[0].renderOrder&&R(t,e[0].renderOrder)},d(e){e&&x(t),n=!1,i()}}}function st(e){let t,n,i,s,o,a,r,l,c,y=null!=e[0]&&Le(e);return{c(){t=h("div"),n=h("div"),i=h("button"),s=h("img"),a=u("Inspector"),r=m(),l=h("div"),y&&y.c(),f(s,"class","inline w-3 mx-1"),_(s.src,o="/assets/joomla.9ecfab72.svg")||f(s,"src","/assets/joomla.9ecfab72.svg"),f(s,"alt",""),f(i,"class","px-3 bg-gray-200"),f(n,"class","bg-gray-300 leading-8"),f(l,"class","content bg-gray-200 leading-8 justify-between"),f(t,"class","component-view overflow-y-auto overflow-x-hidden h-full")},m(e,o){w(e,t,o),g(t,n),g(n,i),g(i,s),g(i,a),g(t,r),g(t,l),y&&y.m(l,null),c=!0},p(e,[t]){null!=e[0]?y?(y.p(e,t),1&t&&p(y,1)):(y=Le(e),y.c(),p(y,1),y.m(l,null)):y&&($(),d(y,1,1,(()=>{y=null})),b())},i(e){c||(p(y),c=!0)},o(e){d(y),c=!1},d(e){e&&x(t),y&&y.d()}}}function ot(e,t,n){let i,s;k(e,A,(e=>n(4,i=e))),k(e,B,(e=>n(5,s=e)));let o,a=null,r=null,l=null;return C((()=>{l&&l.update(),D.emit(O.render)})),e.$$.update=()=>{32&e.$$.dirty&&n(2,l=s),16&e.$$.dirty&&n(0,a=i),11&e.$$.dirty&&a&&("Mesh"!==a.type?(n(1,r=a),r.color.setStyle(o),n(3,o="#"+r.color.getHexString())):n(1,r=null)),4&e.$$.dirty&&l&&l.update()},[a,r,l,o,i,s,function(){a.position.x=j(this.value),n(0,a),n(4,i)},function(){a.position.y=j(this.value),n(0,a),n(4,i)},function(){a.position.z=j(this.value),n(0,a),n(4,i)},function(){a.rotation.x=j(this.value),n(0,a),n(4,i)},function(){a.rotation.y=j(this.value),n(0,a),n(4,i)},function(){a.rotation.z=j(this.value),n(0,a),n(4,i)},function(){a.scale.x=j(this.value),n(0,a),n(4,i)},function(){a.scale.y=j(this.value),n(0,a),n(4,i)},function(){a.scale.z=j(this.value),n(0,a),n(4,i)},function(){a.visible=this.checked,n(0,a),n(4,i)},function(){a.frustumCulled=this.checked,n(0,a),n(4,i)},function(){a.castShadow=this.checked,n(0,a),n(4,i)},function(){a.receiveShadow=this.checked,n(0,a),n(4,i)},function(){r.intensity=j(this.value),n(1,r),n(0,a),n(3,o),n(4,i)},function(){o=this.value,n(3,o),n(0,a),n(1,r),n(4,i)},function(){r.shadow.bias=j(this.value),n(1,r),n(0,a),n(3,o),n(4,i)},function(){r.shadow.normalBias=j(this.value),n(1,r),n(0,a),n(3,o),n(4,i)},function(){r.shadow.radius=j(this.value),n(1,r),n(0,a),n(3,o),n(4,i)},function(){a.renderOrder=j(this.value),n(0,a),n(4,i)}]}class at extends s{constructor(e){super(),o(this,e,ot,st,a,{})}}const rt=new Map;let lt=100;function ct(e,t){rt.has(e["#instanceId"])||(lt++,e["#instanceId"]=lt,rt.set(lt,new e)),e[t]=rt.get(lt)}var pt=Object.defineProperty,dt=Object.getOwnPropertyDescriptor;"undefined"!=typeof require&&require;var ht,ut;(ut=ht||(ht={}))[ut.group=0]="group",ut[ut.box=1]="box",ut[ut.sphere=2]="sphere",ut[ut.directionalLight=3]="directionalLight";class mt{create(e){switch(e){case 1:return this.createBox();case 2:return this.createSphere();case 3:return this.createDirectionalLight();default:return null}}createBox(){let e=new THREE.BoxGeometry,t=new THREE.MeshStandardMaterial,n=new THREE.Mesh(e,t);return n.name="Box",{object:n,helper:null}}createSphere(){let e=new THREE.SphereGeometry,t=new THREE.MeshStandardMaterial,n=new THREE.Mesh(e,t);return n.name="Sphere",{object:n,helper:null}}createAmbientLight(){const e=new THREE.AmbientLight(4210752,1);return e.position.set(1,1,1),{object:e,helper:null}}createDirectionalLight(){const e=new THREE.DirectionalLight(16777215,1);e.position.set(5,10,7.5);let t=new THREE.DirectionalLightHelper(e,1);e.name="DirectionalLight";var n=new THREE.SphereGeometry(2,4,2),i=new THREE.MeshBasicMaterial({color:16711680,visible:!1}),s=new THREE.Mesh(n,i);return s.name="picker",s.userData.object=e,t.add(s),{object:e,helper:t}}}t(mt,"inst"),((e,t,n,i)=>{for(var s,o=i>1?void 0:i?dt(t,n):t,a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i?s(t,n,o):s(o))||o);i&&o&&pt(t,n,o)})([ct],mt,"inst",2);const ft=window.THREE;function wt(e,t){this.enabled=!0,this.center=new ft.Vector3,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var n=this,i=new ft.Vector3,s=new ft.Vector3,o=new ft.Box3,a=-1,r=0,l=1,c=2,p=a,d=this.center,h=new ft.Matrix3,u=new ft.Vector2,m=new ft.Vector2,f=new ft.Spherical,w=new ft.Sphere,g={type:"change"};function y(e){if(!1!==n.enabled){switch(e.pointerType){case"mouse":case"pen":!function(e){0===e.button?p=r:1===e.button?p=l:2===e.button&&(p=c);m.set(e.clientX,e.clientY)}(e)}t.ownerDocument.addEventListener("pointermove",v,!1),t.ownerDocument.addEventListener("pointerup",$,!1)}}function v(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){u.set(e.clientX,e.clientY);var t=u.x-m.x,i=u.y-m.y;p===r?n.rotate(s.set(-t,-i,0)):p===l?n.zoom(s.set(0,0,i)):p===c&&n.pan(s.set(-t,i,0));m.set(e.clientX,e.clientY)}(e)}}function $(e){switch(e.pointerType){case"mouse":case"pen":b()}t.ownerDocument.removeEventListener("pointermove",v,!1),t.ownerDocument.removeEventListener("pointerup",$,!1)}function b(){p=a}function x(e){!1!==n.enabled&&(e.preventDefault(),n.zoom(s.set(0,0,e.deltaY>0?1:-1)))}function E(e){e.preventDefault()}this.focus=function(t){var i;o.setFromObject(t),!1===o.isEmpty()?(o.getCenter(d),i=o.getBoundingSphere(w).radius):(d.setFromMatrixPosition(t.matrixWorld),i=.1),s.set(0,0,1),s.applyQuaternion(e.quaternion),s.multiplyScalar(4*i),e.position.copy(d).add(s),n.dispatchEvent(g)},this.pan=function(t){var i=e.position.distanceTo(d);t.multiplyScalar(i*n.panSpeed),t.applyMatrix3(h.getNormalMatrix(e.matrix)),e.position.add(t),d.add(t),n.dispatchEvent(g)},this.zoom=function(t){var i=e.position.distanceTo(d);t.multiplyScalar(i*n.zoomSpeed),t.length()>i||(t.applyMatrix3(h.getNormalMatrix(e.matrix)),e.position.add(t),n.dispatchEvent(g))},this.rotate=function(t){i.copy(e.position).sub(d),f.setFromVector3(i),f.theta+=t.x*n.rotationSpeed,f.phi+=t.y*n.rotationSpeed,f.makeSafe(),i.setFromSpherical(f),e.position.copy(d).add(i),e.lookAt(d),n.dispatchEvent(g)},this.dispose=function(){t.removeEventListener("contextmenu",E,!1),t.removeEventListener("dblclick",b,!1),t.removeEventListener("wheel",x,!1),t.removeEventListener("pointerdown",y,!1),t.removeEventListener("touchstart",T,!1),t.removeEventListener("touchmove",k,!1)},t.addEventListener("contextmenu",E,!1),t.addEventListener("dblclick",b,!1),t.addEventListener("wheel",x,!1),t.addEventListener("pointerdown",y,!1);var M=[new ft.Vector3,new ft.Vector3,new ft.Vector3],S=[new ft.Vector3,new ft.Vector3,new ft.Vector3],P=null;function T(e){if(!1!==n.enabled){switch(e.touches.length){case 1:M[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),M[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:M[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),M[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio),P=M[0].distanceTo(M[1])}S[0].copy(M[0]),S[1].copy(M[1])}}function k(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:M[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),M[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),n.rotate(M[0].sub(a(M[0],S)).multiplyScalar(-1));break;case 2:M[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),M[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var t=M[0].distanceTo(M[1]);n.zoom(s.set(0,0,P-t)),P=t;var i=M[0].clone().sub(a(M[0],S)),o=M[1].clone().sub(a(M[1],S));i.x=-i.x,o.x=-o.x,n.pan(i.add(o))}S[0].copy(M[0]),S[1].copy(M[1])}function a(e,t){var n=t[0];for(var i in t)n.distanceTo(e)>t[i].distanceTo(e)&&(n=t[i]);return n}}t.addEventListener("touchstart",T,!1),t.addEventListener("touchmove",k,!1)}wt.prototype=Object.create(ft.EventDispatcher.prototype),wt.prototype.constructor=wt;const gt=window.THREE;class yt extends gt.Object3D{constructor(e,n=null){super(),t(this,"animating",!1),t(this,"controls",null),t(this,"render"),t(this,"handleClick"),t(this,"isViewHelper"),t(this,"update"),this.animating=!1,this.controls=null;const i=new gt.Color("#ff3653"),s=new gt.Color("#8adb00"),o=new gt.Color("#2c8fff"),a=[],r=new gt.Raycaster,l=new gt.Vector2,c=new gt.Object3D,p=new gt.OrthographicCamera(-2,2,2,-2,0,4);p.position.set(0,0,2);const d=new gt.BoxGeometry(.8,.05,.05).translate(.4,0,0),h=new gt.Mesh(d,z(i)),u=new gt.Mesh(d,z(s)),m=new gt.Mesh(d,z(o));u.rotation.z=Math.PI/2,m.rotation.y=-Math.PI/2,this.add(h),this.add(m),this.add(u);const f=new gt.Sprite(j(i,"X"));f.userData.type="posX";const w=new gt.Sprite(j(s,"Y"));w.userData.type="posY";const g=new gt.Sprite(j(o,"Z"));g.userData.type="posZ";const y=new gt.Sprite(j(i));y.userData.type="negX";const v=new gt.Sprite(j(s));v.userData.type="negY";const $=new gt.Sprite(j(o));$.userData.type="negZ",f.position.x=1,w.position.y=1,g.position.z=1,y.position.x=-1,y.scale.setScalar(.8),v.position.y=-1,v.scale.setScalar(.8),$.position.z=-1,$.scale.setScalar(.8),this.add(f),this.add(w),this.add(g),this.add(y),this.add(v),this.add($),a.push(f),a.push(w),a.push(g),a.push(y),a.push(v),a.push($);const b=new gt.Vector3,x=128,E=2*Math.PI;this.render=function(t){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),b.set(0,0,1),b.applyQuaternion(e.quaternion),b.x>=0?(f.material.opacity=1,y.material.opacity=.5):(f.material.opacity=.5,y.material.opacity=1),b.y>=0?(w.material.opacity=1,v.material.opacity=.5):(w.material.opacity=.5,v.material.opacity=1),b.z>=0?(g.material.opacity=1,$.material.opacity=.5):(g.material.opacity=.5,$.material.opacity=1);const i=n.dom.clientWidth-x+(n.dom.width-n.dom.clientWidth);t.clearDepth(),t.setViewport(i,0,x,x),p.updateProjectionMatrix(),t.render(this,p)};const M=new gt.Vector3,S=new gt.Quaternion,P=new gt.Quaternion,T=new gt.Quaternion;let k=0,H=n.dom;function z(e){return new gt.MeshBasicMaterial({color:e,toneMapped:!1})}function j(e,t=null){const n=document.createElement("canvas");n.width=64,n.height=64;const i=n.getContext("2d");i.beginPath(),i.arc(32,32,16,0,2*Math.PI),i.closePath(),i.fillStyle=e.getStyle(),i.fill(),null!==t&&(i.font="24px Arial",i.textAlign="center",i.fillStyle="#000000",i.fillText(t,32,41));const s=new gt.CanvasTexture(n);return new gt.SpriteMaterial({map:s,toneMapped:!1})}D.addListener(O.onPointerDown,(t=>{let i=n.dom.clientWidth-x,s=n.dom.clientHeight-x,o=t.clientX-H.offsetLeft,d=t.clientY-H.offsetTop;l.x=(o-i)/x*2-1,l.y=-(d-s)/x*2+1,r.setFromCamera(l,p);const h=r.intersectObjects(a);if(h.length>0){return function(t,n){switch(t.userData.type){case"posX":M.set(1,0,0),S.setFromEuler(new gt.Euler(0,.5*Math.PI,0));break;case"posY":M.set(0,1,0),S.setFromEuler(new gt.Euler(.5*-Math.PI,0,0));break;case"posZ":M.set(0,0,1),S.setFromEuler(new gt.Euler);break;case"negX":M.set(-1,0,0),S.setFromEuler(new gt.Euler(0,.5*-Math.PI,0));break;case"negY":M.set(0,-1,0),S.setFromEuler(new gt.Euler(.5*Math.PI,0,0));break;case"negZ":M.set(0,0,-1),S.setFromEuler(new gt.Euler(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}k=e.position.distanceTo(n),M.multiplyScalar(k).add(n),c.position.copy(n),c.lookAt(e.position),P.copy(c.quaternion),c.lookAt(M),T.copy(c.quaternion)}(h[0].object,this.controls.center),this.animating=!0,!0}return!1})),this.update=function(t){const n=t*E,i=this.controls.center;P.rotateTowards(T,n),e.position.set(0,0,1).applyQuaternion(P).multiplyScalar(k).add(i),e.quaternion.rotateTowards(S,n),0===P.angleTo(T)&&(this.animating=!1)}}}yt.prototype.isViewHelper=!0;const vt=window.THREE.BoxGeometry,$t=window.THREE.BufferGeometry,bt=window.THREE.Color,xt=window.THREE.CylinderGeometry,Et=window.THREE.DoubleSide,Mt=window.THREE.Euler,St=window.THREE.Float32BufferAttribute,Pt=window.THREE.Line,Tt=window.THREE.LineBasicMaterial,kt=window.THREE.Matrix4,Ht=window.THREE.Mesh,zt=window.THREE.MeshBasicMaterial,jt=window.THREE.Object3D,Rt=window.THREE.OctahedronGeometry,Xt=window.THREE.PlaneGeometry,Yt=window.THREE.Quaternion,It=window.THREE.Raycaster,_t=window.THREE.SphereGeometry,Ct=window.THREE.TorusGeometry,Lt=window.THREE.Vector3,Zt=new It,Dt=new Lt,Ot=new Lt,Qt=new Yt,At={X:new Lt(1,0,0),Y:new Lt(0,1,0),Z:new Lt(0,0,1)},Wt={type:"change"},Bt={type:"mouseDown"},Gt={type:"mouseUp",mode:null},Nt={type:"objectChange"};class qt extends jt{constructor(e,n){super(),t(this,"showX"),t(this,"showY"),t(this,"showZ"),t(this,"enabled"),void 0===n&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.visible=!1,this.domElement=n;const i=new wn;this._gizmo=i,this.add(i);const s=new gn;this._plane=s,this.add(s);const o=this;function a(e,t){let n=t;Object.defineProperty(o,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,s[e]=t,i[e]=t,o.dispatchEvent({type:e+"-changed",value:t}),o.dispatchEvent(Wt))}}),o[e]=t,s[e]=t,i[e]=t}a("camera",e),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0);const r=new Lt,l=new Lt,c=new Yt,p=new Yt,d=new Lt,h=new Yt,u=new Lt,m=new Lt,f=new Lt,w=new Lt;a("worldPosition",r),a("worldPositionStart",l),a("worldQuaternion",c),a("worldQuaternionStart",p),a("cameraPosition",d),a("cameraQuaternion",h),a("pointStart",u),a("pointEnd",m),a("rotationAxis",f),a("rotationAngle",0),a("eye",w),this._offset=new Lt,this._startNorm=new Lt,this._endNorm=new Lt,this._cameraScale=new Lt,this._parentPosition=new Lt,this._parentQuaternion=new Yt,this._parentQuaternionInv=new Yt,this._parentScale=new Lt,this._worldScaleStart=new Lt,this._worldQuaternionInv=new Yt,this._worldScale=new Lt,this._positionStart=new Lt,this._quaternionStart=new Yt,this._scaleStart=new Lt,this._getPointer=Ft.bind(this),this._onPointerDown=Vt.bind(this),this._onPointerHover=Ut.bind(this),this._onPointerMove=Kt.bind(this),this._onPointerUp=Jt.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(void 0===this.object||!0===this.dragging)return;Zt.setFromCamera(e,this.camera);const t=en(this._gizmo.picker[this.mode],Zt);this.axis=t?t.object.name:null}pointerDown(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){Zt.setFromCamera(e,this.camera);const t=en(this._plane,Zt,!0);if(t){let e=this.space;if("scale"===this.mode?e="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(e="world"),"local"===e&&"rotate"===this.mode){const e=this.rotationSnap;"X"===this.axis&&e&&(this.object.rotation.x=Math.round(this.object.rotation.x/e)*e),"Y"===this.axis&&e&&(this.object.rotation.y=Math.round(this.object.rotation.y/e)*e),"Z"===this.axis&&e&&(this.object.rotation.z=Math.round(this.object.rotation.z/e)*e)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)}this.dragging=!0,Bt.mode=this.mode,this.dispatchEvent(Bt)}}pointerMove(e){const t=this.axis,n=this.mode,i=this.object;let s=this.space;if("scale"===n?s="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(s="world"),void 0===i||null===t||!1===this.dragging||-1!==e.button)return;Zt.setFromCamera(e,this.camera);const o=en(this._plane,Zt,!0);if(o){if(this.pointEnd.copy(o.point).sub(this.worldPositionStart),"translate"===n)this._offset.copy(this.pointEnd).sub(this.pointStart),"local"===s&&"XYZ"!==t&&this._offset.applyQuaternion(this._worldQuaternionInv),-1===t.indexOf("X")&&(this._offset.x=0),-1===t.indexOf("Y")&&(this._offset.y=0),-1===t.indexOf("Z")&&(this._offset.z=0),"local"===s&&"XYZ"!==t?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),i.position.copy(this._offset).add(this._positionStart),this.translationSnap&&("local"===s&&(i.position.applyQuaternion(Qt.copy(this._quaternionStart).invert()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(this._quaternionStart)),"world"===s&&(i.parent&&i.position.add(Dt.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(Dt.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),Ot.set(e,e,e)}else Dt.copy(this.pointStart),Ot.copy(this.pointEnd),Dt.applyQuaternion(this._worldQuaternionInv),Ot.applyQuaternion(this._worldQuaternionInv),Ot.divide(Dt),-1===t.search("X")&&(Ot.x=1),-1===t.search("Y")&&(Ot.y=1),-1===t.search("Z")&&(Ot.z=1);i.scale.copy(this._scaleStart).multiply(Ot),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this._offset.copy(this.pointEnd).sub(this.pointStart);const e=20/this.worldPosition.distanceTo(Dt.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Dt.copy(this.rotationAxis).cross(this.eye))*e):"X"!==t&&"Y"!==t&&"Z"!==t||(this.rotationAxis.copy(At[t]),Dt.copy(At[t]),"local"===s&&Dt.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(Dt.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===s&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(this._quaternionStart),i.quaternion.multiply(Qt.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),i.quaternion.copy(Qt.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),i.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Wt),this.dispatchEvent(Nt)}}pointerUp(e){0===e.button&&(this.dragging&&null!==this.axis&&(Gt.mode=this.mode,this.dispatchEvent(Gt)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}function Ft(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=e.changedTouches?e.changedTouches[0]:e,n=this.domElement.getBoundingClientRect();return{x:(t.clientX-n.left)/n.width*2-1,y:-(t.clientY-n.top)/n.height*2+1,button:e.button}}}function Ut(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e))}}function Vt(e){this.enabled&&(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function Kt(e){this.enabled&&this.pointerMove(this._getPointer(e))}function Jt(e){this.enabled&&(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function en(e,t,n){const i=t.intersectObject(e,!0);for(let s=0;s<i.length;s++)if(i[s].object.visible||n)return i[s];return!1}qt.prototype.isTransformControls=!0;const tn=new Mt,nn=new Lt(0,1,0),sn=new Lt(0,0,0),on=new kt,an=new Yt,rn=new Yt,ln=new Lt,cn=new kt,pn=new Lt(1,0,0),dn=new Lt(0,1,0),hn=new Lt(0,0,1),un=new Lt,mn=new Lt,fn=new Lt;class wn extends jt{constructor(){super(),this.type="TransformControlsGizmo";const e=new zt({depthTest:!1,depthWrite:!1,transparent:!0,side:Et,fog:!1,toneMapped:!1}),t=new Tt({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;const i=e.clone();i.opacity=.33;const s=e.clone();s.color.set(16711680);const o=e.clone();o.color.set(65280);const a=e.clone();a.color.set(255);const r=e.clone();r.opacity=.25;const l=r.clone();l.color.set(16776960);const c=r.clone();c.color.set(65535);const p=r.clone();p.color.set(16711935);e.clone().color.set(16776960);const d=t.clone();d.color.set(16711680);const h=t.clone();h.color.set(65280);const u=t.clone();u.color.set(255);const m=t.clone();m.color.set(65535);const f=t.clone();f.color.set(16711935);const w=t.clone();w.color.set(16776960);const g=t.clone();g.color.set(7895160);const y=w.clone();y.opacity=.25;const v=new xt(0,.05,.2,12,1,!1),$=new vt(.125,.125,.125),b=new $t;function x(e,t){const n=new $t,i=[];for(let s=0;s<=64*t;++s)i.push(0,Math.cos(s/32*Math.PI)*e,Math.sin(s/32*Math.PI)*e);return n.setAttribute("position",new St(i,3)),n}b.setAttribute("position",new St([0,0,0,1,0,0],3));const E={X:[[new Ht(v,s),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Ht(v,s),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Pt(b,d)]],Y:[[new Ht(v,o),[0,1,0],null,null,"fwd"],[new Ht(v,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Pt(b,h),null,[0,0,Math.PI/2]]],Z:[[new Ht(v,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Ht(v,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Pt(b,u),null,[0,-Math.PI/2,0]]],XYZ:[[new Ht(new Rt(.1,0),r.clone()),[0,0,0],[0,0,0]]],XY:[[new Ht(new Xt(.295,.295),l.clone()),[.15,.15,0]],[new Pt(b,w),[.18,.3,0],null,[.125,1,1]],[new Pt(b,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ht(new Xt(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Pt(b,m),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Pt(b,m),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ht(new Xt(.295,.295),p.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Pt(b,f),[.18,0,.3],null,[.125,1,1]],[new Pt(b,f),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},M={X:[[new Ht(new xt(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Ht(new xt(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new Ht(new xt(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Ht(new Rt(.2,0),n)]],XY:[[new Ht(new Xt(.4,.4),n),[.2,.2,0]]],YZ:[[new Ht(new Xt(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Ht(new Xt(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},S={START:[[new Ht(new Rt(.01,2),i),null,null,null,"helper"]],END:[[new Ht(new Rt(.01,2),i),null,null,null,"helper"]],DELTA:[[new Pt(function(){const e=new $t;return e.setAttribute("position",new St([0,0,0,1,1,1],3)),e}(),i),null,null,null,"helper"]],X:[[new Pt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Pt(b,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Pt(b,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},P={X:[[new Pt(x(1,.5),d)],[new Ht(new Rt(.04,0),s),[0,0,.99],null,[1,3,1]]],Y:[[new Pt(x(1,.5),h),null,[0,0,-Math.PI/2]],[new Ht(new Rt(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new Pt(x(1,.5),u),null,[0,Math.PI/2,0]],[new Ht(new Rt(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new Pt(x(1.25,1),y),null,[0,Math.PI/2,0]],[new Ht(new xt(.03,0,.15,4,1,!1),y),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Ht(new xt(.03,0,.15,4,1,!1),y),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Ht(new xt(.03,0,.15,4,1,!1),y),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Ht(new xt(.03,0,.15,4,1,!1),y),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Pt(x(1,1),g),null,[0,Math.PI/2,0]]]},T={AXIS:[[new Pt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},k={X:[[new Ht(new Ct(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Ht(new Ct(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Ht(new Ct(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Ht(new Ct(1.25,.1,2,24),n)]],XYZE:[[new Ht(new _t(.7,10,8),n)]]},H={X:[[new Ht($,s),[.8,0,0],[0,0,-Math.PI/2]],[new Pt(b,d),null,null,[.8,1,1]]],Y:[[new Ht($,o),[0,.8,0]],[new Pt(b,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Ht($,a),[0,0,.8],[Math.PI/2,0,0]],[new Pt(b,u),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Ht($,l),[.85,.85,0],null,[2,2,.2]],[new Pt(b,w),[.855,.98,0],null,[.125,1,1]],[new Pt(b,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ht($,c),[0,.85,.85],null,[.2,2,2]],[new Pt(b,m),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Pt(b,m),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ht($,p),[.85,0,.85],null,[2,.2,2]],[new Pt(b,f),[.855,0,.98],null,[.125,1,1]],[new Pt(b,f),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Ht(new vt(.125,.125,.125),r.clone()),[1.1,0,0]]],XYZY:[[new Ht(new vt(.125,.125,.125),r.clone()),[0,1.1,0]]],XYZZ:[[new Ht(new vt(.125,.125,.125),r.clone()),[0,0,1.1]]]},z={X:[[new Ht(new xt(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Ht(new xt(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new Ht(new xt(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Ht($,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Ht($,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Ht($,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Ht(new vt(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new Ht(new vt(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new Ht(new vt(.2,.2,.2),n),[0,0,1.1]]]},j={X:[[new Pt(b,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Pt(b,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Pt(b,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function R(e){const t=new jt;for(const n in e)for(let i=e[n].length;i--;){const s=e[n][i][0].clone(),o=e[n][i][1],a=e[n][i][2],r=e[n][i][3],l=e[n][i][4];s.name=n,s.tag=l,o&&s.position.set(o[0],o[1],o[2]),a&&s.rotation.set(a[0],a[1],a[2]),r&&s.scale.set(r[0],r[1],r[2]),s.updateMatrix();const c=s.geometry.clone();c.applyMatrix4(s.matrix),s.geometry=c,s.renderOrder=1/0,s.position.set(0,0,0),s.rotation.set(0,0,0),s.scale.set(1,1,1),t.add(s)}return t}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=R(E)),this.add(this.gizmo.rotate=R(P)),this.add(this.gizmo.scale=R(H)),this.add(this.picker.translate=R(M)),this.add(this.picker.rotate=R(k)),this.add(this.picker.scale=R(z)),this.add(this.helper.translate=R(S)),this.add(this.helper.rotate=R(T)),this.add(this.helper.scale=R(j)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const t="local"===("scale"===this.mode?this.space:"local")?this.worldQuaternion:rn;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let i=0;i<n.length;i++){const e=n[i];let s;if(e.visible=!0,e.rotation.set(0,0,0),e.position.copy(this.worldPosition),s=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),e.scale.set(1,1,1).multiplyScalar(s*this.size/7),"helper"!==e.tag){if(e.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){const n=.99,i=.2,s=0;"X"!==e.name&&"XYZX"!==e.name||Math.abs(nn.copy(pn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Y"!==e.name&&"XYZY"!==e.name||Math.abs(nn.copy(dn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"Z"!==e.name&&"XYZZ"!==e.name||Math.abs(nn.copy(hn).applyQuaternion(t).dot(this.eye))>n&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XY"===e.name&&Math.abs(nn.copy(hn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"YZ"===e.name&&Math.abs(nn.copy(pn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),"XZ"===e.name&&Math.abs(nn.copy(dn).applyQuaternion(t).dot(this.eye))<i&&(e.scale.set(1e-10,1e-10,1e-10),e.visible=!1),-1!==e.name.search("X")&&(nn.copy(pn).applyQuaternion(t).dot(this.eye)<s?"fwd"===e.tag?e.visible=!1:e.scale.x*=-1:"bwd"===e.tag&&(e.visible=!1)),-1!==e.name.search("Y")&&(nn.copy(dn).applyQuaternion(t).dot(this.eye)<s?"fwd"===e.tag?e.visible=!1:e.scale.y*=-1:"bwd"===e.tag&&(e.visible=!1)),-1!==e.name.search("Z")&&(nn.copy(hn).applyQuaternion(t).dot(this.eye)<s?"fwd"===e.tag?e.visible=!1:e.scale.z*=-1:"bwd"===e.tag&&(e.visible=!1))}else"rotate"===this.mode&&(an.copy(t),nn.copy(this.eye).applyQuaternion(Qt.copy(t).invert()),-1!==e.name.search("E")&&e.quaternion.setFromRotationMatrix(on.lookAt(this.eye,sn,dn)),"X"===e.name&&(Qt.setFromAxisAngle(pn,Math.atan2(-nn.y,nn.z)),Qt.multiplyQuaternions(an,Qt),e.quaternion.copy(Qt)),"Y"===e.name&&(Qt.setFromAxisAngle(dn,Math.atan2(nn.x,nn.z)),Qt.multiplyQuaternions(an,Qt),e.quaternion.copy(Qt)),"Z"===e.name&&(Qt.setFromAxisAngle(hn,Math.atan2(nn.y,nn.x)),Qt.multiplyQuaternions(an,Qt),e.quaternion.copy(Qt)));e.visible=e.visible&&(-1===e.name.indexOf("X")||this.showX),e.visible=e.visible&&(-1===e.name.indexOf("Y")||this.showY),e.visible=e.visible&&(-1===e.name.indexOf("Z")||this.showZ),e.visible=e.visible&&(-1===e.name.indexOf("E")||this.showX&&this.showY&&this.showZ),e.material._opacity=e.material._opacity||e.material.opacity,e.material._color=e.material._color||e.material.color.clone(),e.material.color.copy(e.material._color),e.material.opacity=e.material._opacity,this.enabled?this.axis&&(e.name===this.axis||this.axis.split("").some((function(t){return e.name===t}))?(e.material.opacity=1,e.material.color.lerp(new bt(1,1,1),.5)):(e.material.opacity*=.25,e.material.color.lerp(new bt(1,1,1),.5))):(e.material.opacity*=.5,e.material.color.lerp(new bt(1,1,1),.5))}else e.visible=!1,"AXIS"===e.name?(e.position.copy(this.worldPositionStart),e.visible=!!this.axis,"X"===this.axis&&(Qt.setFromEuler(tn.set(0,0,0)),e.quaternion.copy(t).multiply(Qt),Math.abs(nn.copy(pn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"Y"===this.axis&&(Qt.setFromEuler(tn.set(0,0,Math.PI/2)),e.quaternion.copy(t).multiply(Qt),Math.abs(nn.copy(dn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"Z"===this.axis&&(Qt.setFromEuler(tn.set(0,Math.PI/2,0)),e.quaternion.copy(t).multiply(Qt),Math.abs(nn.copy(hn).applyQuaternion(t).dot(this.eye))>.9&&(e.visible=!1)),"XYZE"===this.axis&&(Qt.setFromEuler(tn.set(0,Math.PI/2,0)),nn.copy(this.rotationAxis),e.quaternion.setFromRotationMatrix(on.lookAt(sn,nn,dn)),e.quaternion.multiply(Qt),e.visible=this.dragging),"E"===this.axis&&(e.visible=!1)):"START"===e.name?(e.position.copy(this.worldPositionStart),e.visible=this.dragging):"END"===e.name?(e.position.copy(this.worldPosition),e.visible=this.dragging):"DELTA"===e.name?(e.position.copy(this.worldPositionStart),e.quaternion.copy(this.worldQuaternionStart),Dt.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Dt.applyQuaternion(this.worldQuaternionStart.clone().invert()),e.scale.copy(Dt),e.visible=this.dragging):(e.quaternion.copy(t),this.dragging?e.position.copy(this.worldPositionStart):e.position.copy(this.worldPosition),this.axis&&(e.visible=-1!==this.axis.search(e.name)))}super.updateMatrixWorld(e)}}wn.prototype.isTransformControlsGizmo=!0;class gn extends Ht{constructor(){super(new Xt(1e5,1e5,2,2),new zt({visible:!1,wireframe:!0,side:Et,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(t="local"),un.copy(pn).applyQuaternion("local"===t?this.worldQuaternion:rn),mn.copy(dn).applyQuaternion("local"===t?this.worldQuaternion:rn),fn.copy(hn).applyQuaternion("local"===t?this.worldQuaternion:rn),nn.copy(mn),this.mode){case"translate":case"scale":switch(this.axis){case"X":nn.copy(this.eye).cross(un),ln.copy(un).cross(nn);break;case"Y":nn.copy(this.eye).cross(mn),ln.copy(mn).cross(nn);break;case"Z":nn.copy(this.eye).cross(fn),ln.copy(fn).cross(nn);break;case"XY":ln.copy(fn);break;case"YZ":ln.copy(un);break;case"XZ":nn.copy(fn),ln.copy(mn);break;case"XYZ":case"E":ln.set(0,0,0)}break;case"rotate":default:ln.set(0,0,0)}0===ln.length()?this.quaternion.copy(this.cameraQuaternion):(cn.lookAt(Dt.set(0,0,0),ln,nn),this.quaternion.setFromRotationMatrix(cn)),super.updateMatrixWorld(e)}}gn.prototype.isTransformControlsPlane=!0;var yn=Object.defineProperty,vn=Object.getOwnPropertyDescriptor;"undefined"!=typeof require&&require;const $n=window.THREE;class bn{constructor(){t(this,"renderTime",null),t(this,"renderer",null),t(this,"scene",null),t(this,"camera",null),t(this,"canvas"),t(this,"tanFOV"),t(this,"canvasOldHeight"),t(this,"scenesDirectionHelper"),t(this,"objectControl"),t(this,"scenesControl"),t(this,"raycaster"),t(this,"mouse"),t(this,"objects",[]),t(this,"selectHelper"),t(this,"selectObject"),t(this,"dt")}init(e){this.canvas||(this.canvas=e,this.raycaster=new $n.Raycaster,this.mouse=new $n.Vector2,this.renderTime=new $n.Clock,this.renderer=new $n.WebGLRenderer({canvas:e,context:e.getContext("webgl2"),alpha:!0,antialias:!0}),this.renderer.setClearColor(11184810),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=$n.PCFSoftShadowMap,this.scene=new $n.Scene,this.camera=new $n.PerspectiveCamera(50,e.clientWidth/e.clientHeight,.01,1e3),this.camera.position.set(0,5,10),this.camera.lookAt(new $n.Vector3),setTimeout((()=>{this.renderer.setSize(e.offsetWidth,e.clientHeight,!1),this.tanFOV=Math.tan(Math.PI/180*this.camera.fov/2),this.canvasOldHeight=e.clientHeight,this.animate()})),this.scenesControl=new wt(this.camera,this.canvas),this.scenesControl.addEventListener("change",(()=>{this.animate()})),this.addFloorGrid(),this.objectControl=this.objectSelect(),this.addScenesDirectionHelper(),D.addListener(O.render,(()=>{this.animate()})),D.addListener(O.resize,this.resize,this),D.addListener(O.updateScenesSize,this.resize,this),D.addListener(O.addObject,this.addObject,this),this.addObject(ht.box),this.addObject(ht.directionalLight))}addObject(e){let t=mt.inst.create(e);if(t){if(this.scene.add(t.object),t.helper){this.scene.add(t.helper);var n=t.helper.getObjectByName("picker");void 0!==n&&this.objects.push(n)}this.objects.push(t.object),this.animate()}}addScenesDirectionHelper(){let e=new yt(this.camera,{dom:this.canvas});e.controls=this.scenesControl,this.scenesDirectionHelper=e,D.addListener(O.update,(()=>{!0===e.animating&&e.update(this.dt)}))}objectSelect(){let e=new qt(this.camera,this.canvas);this.scene.add(e),e.addEventListener("change",(()=>{this.animate()})),e.addEventListener("objectChange",(()=>{A.update((e=>e))})),e.addEventListener("dragging-changed",(e=>{this.scenesControl.enabled=!e.value}));let t=new $n.Vector2,n=new $n.Vector2;return D.addListener(O.onPointerDown,(e=>{e.target==this.canvas&&t.set(e.clientX,e.clientY)})),D.addListener(O.onPointerUp,(i=>{var s,o;if(i.target!=this.canvas||!this.objects.length)return;if(n.set(i.clientX,i.clientY),t.distanceTo(n))return;let a=this.getSelectObjectIntersects({x:i.clientX-this.canvas.offsetLeft,y:i.clientY-this.canvas.offsetTop},this.objects);if(a.length>0){let t=a[0].object;if(void 0!==t.userData.object){if((null==(s=this.selectObject)?void 0:s.id)===t.userData.object.id)return;e.attach(t.userData.object),this.selectObject=t.userData.object,"picker"===t.name&&(B.set(t.parent),this.selectHelper=t.parent,e.setMode("translate"))}else{if((null==(o=this.selectObject)?void 0:o.id)===t.id)return;e.attach(t),this.selectObject=t,this.selectHelper=null,B.set(null)}A.set(this.selectObject),W.set(this.selectObject.material),console.log(this.selectObject)}else e.detach(),A.set(null),W.set(null),B.set(null),this.selectHelper=null,this.selectObject=null})),D.addListener(O.onDoubleClick,(e=>{if(e.target!=this.canvas)return;let t=this.getSelectObjectIntersects({x:e.clientX-this.canvas.offsetLeft,y:e.clientY-this.canvas.offsetTop},this.objects);if(t.length>0){let e=t[0].object;this.scenesControl.focus(e)}})),D.addListener(O.onKeyDown,(t=>{switch(t.key){case"Shift":e.setTranslationSnap(1),e.setRotationSnap($n.MathUtils.degToRad(15)),e.setScaleSnap(.25);break;case"w":case"W":e.setMode("translate");break;case"e":this.selectHelper||e.setMode("rotate");break;case"r":this.selectHelper||e.setMode("scale");break;case"+":e.setSize(e.size+.1);break;case"-":e.setSize(Math.max(e.size-.1,.1));break;case"X":case"x":e.showX=!e.showX;break;case"y":case"Y":e.showY=!e.showY;break;case"z":case"Z":e.showZ=!e.showZ;break;case" ":e.enabled=!e.enabled}})),D.addListener(O.onKeyUp,(t=>{switch(t.key){case"Shift":e.setTranslationSnap(null),e.setRotationSnap(null),e.setScaleSnap(null)}})),e}addFloorGrid(){var e=new $n.Group,t=new $n.GridHelper(30,30,12961221);t.material.color.setHex(12961221),t.material.vertexColors=!1,e.add(t);var n=new $n.GridHelper(30,6,7829367);n.material.color.setHex(7829367),n.material.depthFunc=$n.AlwaysDepth,n.material.vertexColors=!1,e.add(n),this.scene.add(e)}getSelectObjectIntersects(e,t){return this.mouse.set(e.x/this.canvas.clientWidth*2-1,-e.y/this.canvas.clientHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObjects(t)}animate(){this.renderer.setViewport(0,0,this.canvas.clientWidth+(this.canvas.width-this.canvas.clientWidth),this.canvas.clientHeight+(this.canvas.height-this.canvas.clientHeight)),this.renderer.render(this.scene,this.camera),this.dt=this.renderTime.getDelta(),this.renderer.autoClear=!1,this.scenesDirectionHelper.render(this.renderer),this.renderer.autoClear=!0,D.emit(O.update,this.dt),this.camera.updateProjectionMatrix()}resize(){this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight,!1),this.camera.aspect=this.canvas.clientWidth/this.canvas.clientHeight,this.camera.fov=360/Math.PI*Math.atan(this.tanFOV*(this.canvas.clientHeight/this.canvasOldHeight)),this.camera.updateProjectionMatrix(),this.animate()}}t(bn,"inst"),((e,t,n,i)=>{for(var s,o=i>1?void 0:i?vn(t,n):t,a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i?s(t,n,o):s(o))||o);i&&o&&yn(t,n,o)})([ct],bn,"inst",2);const xn=bn.inst;function En(e){let t;return{c(){t=h("canvas"),f(t,"class","h-full w-full flex-grow select-none")},m(n,i){w(n,t,i),e[1](t)},p:I,i:I,o:I,d(n){n&&x(t),e[1](null)}}}function Mn(e,t,n){let i;return L((()=>{xn.init(i)})),[i,function(e){X[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Sn extends s{constructor(e){super(),o(this,e,Mn,En,a,{})}}function Pn(e){let t,n,i;return{c(){t=h("div"),f(t,"class","hover:bg-yellow-300 transition-colors duration-50 h-full w-2 cursor-col-resize -translate-x-1 absolute left-0 top-0 select-none")},m(s,o){w(s,t,o),e[6](t),n||(i=[y(window,"mouseup",e[3]),y(window,"mousemove",e[2]),y(t,"mousedown",e[1])],n=!0)},p:I,i:I,o:I,d(s){s&&x(t),e[6](null),n=!1,Y(i)}}}function Tn(e,t,n){let i=null,s=!1,o=0,a=0,{resizeEvent:r=null}=t,{resizeEventMouseUp:l=null}=t;return L((()=>{})),e.$$set=e=>{"resizeEvent"in e&&n(4,r=e.resizeEvent),"resizeEventMouseUp"in e&&n(5,l=e.resizeEventMouseUp)},[i,function(e){s=!0,o=e.pageX,a=i.parentElement.clientWidth},function(e){if(s){let t=a+o-e.pageX;(document.documentElement.clientWidth-t<50||document.documentElement.clientWidth-t>document.documentElement.clientWidth-50)&&(t=i.parentElement.clientWidth),n(0,i.parentElement.style.width=`${t}px`,i),r&&r()}},function(e){l&&s&&l(),s=!1},r,l,function(e){X[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class kn extends s{constructor(e){super(),o(this,e,Tn,Pn,a,{resizeEvent:4,resizeEventMouseUp:5})}}const Hn=[{title:"文件",child:[{title:"文件",event:()=>{console.log(1)},line:!1,enabled:!1},{title:"导入",event:()=>{console.log(1)},line:!1,enabled:!1}]},{title:"编辑",child:[{title:"拷贝",event:()=>{console.log(1)},line:!1,enabled:!1},{title:"删除",event:()=>{console.log(1)},line:!1,enabled:!1}]},{title:"添加",child:[{title:"组",event:()=>{D.emit(O.addObject,ht.group)},line:!0,enabled:!1},{title:"正方体",event:()=>{D.emit(O.addObject,ht.box)},line:!1,enabled:!0},{title:"圆",event:()=>{D.emit(O.addObject,ht.sphere)},line:!0,enabled:!0},{title:"环境光",event:()=>{D.emit(O.addObject,ht.ambientLight)},enabled:!1},{title:"平行光",event:()=>{D.emit(O.addObject,ht.directionalLight)},line:!1,enabled:!0},{title:"半光球",event:()=>{console.log(1)},line:!1},{title:"点光源",event:()=>{console.log(1)},line:!1}]},{title:"帮助",child:[]}];function zn(e,t,n){const i=e.slice();return i[9]=t[n],i}function jn(e,t,n){const i=e.slice();return i[9]=t[n],i[13]=n,i}function Rn(e){let t,n,i,s,o,a=e[9].title+"";function r(...t){return e[6](e[13],...t)}return{c(){t=h("div"),n=u(a),i=m(),f(t,"class","hover:bg-gray-300 hover:text-gray-600 inline-block px-3 cursor-pointer text-gray-500 float-left")},m(a,l){w(a,t,l),g(t,n),g(t,i),s||(o=[y(t,"pointerenter",r),y(t,"pointerleave",e[5])],s=!0)},p(t,n){e=t},d(e){e&&x(t),s=!1,Y(o)}}}function Xn(e){let t,n=e[3][e[2]].child,i=[];for(let s=0;s<n.length;s+=1)i[s]=In(zn(e,n,s));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=T()},m(e,n){for(let t=0;t<i.length;t+=1)i[t].m(e,n);w(e,t,n)},p(e,s){if(12&s){let o;for(n=e[3][e[2]].child,o=0;o<n.length;o+=1){const a=zn(e,n,o);i[o]?i[o].p(a,s):(i[o]=In(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(e){z(i,e),e&&x(t)}}}function Yn(e){let t;return{c(){t=h("div"),t.innerHTML="<div></div> \n                        <div></div> \n                    ",f(t,"class","divide-y divide-gray-300")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function In(e){let t,n,i,s,o,a,r,l=e[9].title+"",c=e[9].line&&Yn();return{c(){t=h("div"),n=u(l),s=m(),c&&c.c(),o=T(),f(t,"class",i=(e[9].enabled?"hover:bg-pink-800 hover:text-white cursor-pointer ":" cursor-not-allowed  text-gray-300")+" px-2 py-1")},m(i,l){w(i,t,l),g(t,n),w(i,s,l),c&&c.m(i,l),w(i,o,l),a||(r=y(t,"click",(function(){Z(e[9].enabled?e[9].event:null)&&(e[9].enabled?e[9].event:null).apply(this,arguments)})),a=!0)},p(s,a){e=s,4&a&&l!==(l=e[9].title+"")&&v(n,l),4&a&&i!==(i=(e[9].enabled?"hover:bg-pink-800 hover:text-white cursor-pointer ":" cursor-not-allowed  text-gray-300")+" px-2 py-1")&&f(t,"class",i),e[9].line?c||(c=Yn(),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(e){e&&x(t),e&&x(s),c&&c.d(e),e&&x(o),a=!1,r()}}}function _n(e){var t;let n,i,s,o,a,r,l=e[3],c=[];for(let d=0;d<l.length;d+=1)c[d]=Rn(jn(e,l,d));let p=e[3][e[2]]&&(null==(t=e[3][e[2]].child)?void 0:t.length)&&e[1]&&Xn(e);return{c(){n=h("div"),i=h("div");for(let e=0;e<c.length;e+=1)c[e].c();s=m(),o=h("div"),p&&p.c(),f(i,"class","overflow-hidden leading-6"),f(o,"class","w-40 absolute bg-gray-200 transition-transform duration-100 "),f(n,"class","relative select-none ")},m(t,l){w(t,n,l),g(n,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null);g(n,s),g(n,o),p&&p.m(o,null),e[7](o),a||(r=[y(o,"pointerenter",e[8]),y(o,"pointerleave",e[5])],a=!0)},p(e,[t]){var n;if(56&t){let n;for(l=e[3],n=0;n<l.length;n+=1){const s=jn(e,l,n);c[n]?c[n].p(s,t):(c[n]=Rn(s),c[n].c(),c[n].m(i,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}e[3][e[2]]&&(null==(n=e[3][e[2]].child)?void 0:n.length)&&e[1]?p?p.p(e,t):(p=Xn(e),p.c(),p.m(o,null)):p&&(p.d(1),p=null)},i:I,o:I,d(t){t&&x(n),z(c,t),p&&p.d(),e[7](null),a=!1,Y(r)}}}function Cn(e,t,n){let i,s=!1,o=Hn,a=null;function r(e,t){if(n(1,s=!0),n(2,a=t),!o[t].child.length)return;let r=e.target;n(0,i.style.transform=`translateX(${r.offsetLeft}px)`,i)}return[i,s,a,o,r,function(){n(1,s=!1)},(e,t)=>{r(t,e)},function(e){X[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},e=>{n(1,s=!0)}]}class Ln extends s{constructor(e){super(),o(this,e,Cn,_n,a,{})}}function Zn(e){let t,n,i,s,o,a,r,l,c,u,y,v,$,b,E;return i=new Ln({}),r=new Sn({}),u=new kn({props:{resizeEventMouseUp:e[0]}}),v=new at({}),{c(){t=h("div"),n=h("div"),M(i.$$.fragment),s=m(),o=h("div"),a=h("div"),M(r.$$.fragment),l=m(),c=h("div"),M(u.$$.fragment),y=m(),M(v.$$.fragment),$=m(),b=h("div"),b.innerHTML='<span class="text-xs">0</span>',f(n,"class","flex-none items-center bg-gray-200 align-text-bottom border-b-[1px] border-solid border-gray-300"),f(a,"class","flex-grow bg-gray-100 flex flex-row"),f(c,"class","flex-none bg-gray-200 w-80 relative"),f(o,"class","flex-grow h-4 flex flex-row"),f(b,"class","flex-none bg-gray-200 px-2 h-6 align-text-bottom border-t-[1px] border-solid border-gray-300"),f(t,"class","flex flex-col h-screen text-gray-500 font-sans text-sm")},m(e,p){w(e,t,p),g(t,n),S(i,n,null),g(t,s),g(t,o),g(o,a),S(r,a,null),g(o,l),g(o,c),S(u,c,null),g(c,y),S(v,c,null),g(t,$),g(t,b),E=!0},p:I,i(e){E||(p(i.$$.fragment,e),p(r.$$.fragment,e),p(u.$$.fragment,e),p(v.$$.fragment,e),E=!0)},o(e){d(i.$$.fragment,e),d(r.$$.fragment,e),d(u.$$.fragment,e),d(v.$$.fragment,e),E=!1},d(e){e&&x(t),P(i),P(r),P(u),P(v)}}}function Dn(e){return[function(){D.emit(O.updateScenesSize)}]}class On extends s{constructor(e){super(),o(this,e,Dn,Zn,a,{})}}function Qn(e){let t,n,i,s;return t=new On({}),{c(){M(t.$$.fragment)},m(o,a){S(t,o,a),n=!0,i||(s=[y(window,"resize",e[0]),y(window,"pointerdown",e[1]),y(window,"pointerup",e[2]),y(window,"pointermove",e[3]),y(window,"dblclick",e[4]),y(window,"keydown",e[5]),y(window,"keyup",e[6])],i=!0)},p:I,i(e){n||(p(t.$$.fragment,e),n=!0)},o(e){d(t.$$.fragment,e),n=!1},d(e){P(t,e),i=!1,Y(s)}}}function An(e){return[function(){D.emit(O.resize)},function(e){D.emit(O.onPointerDown,e)},function(e){D.emit(O.onPointerUp,e)},function(e){D.emit(O.onPointerMove,e)},function(e){D.emit(O.onDoubleClick,e)},function(e){D.emit(O.onKeyDown,e)},function(e){D.emit(O.onKeyUp,e)}]}new class extends s{constructor(e){super(),o(this,e,An,Qn,a,{})}}({target:document.getElementById("app")});
